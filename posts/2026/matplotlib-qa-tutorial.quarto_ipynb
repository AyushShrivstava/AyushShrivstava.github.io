{
  "cells": [
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "---\n",
        "title: \"Matplotlib Mastery: Basics to Advanced\"\n",
        "subtitle: \"A practical, in-depth guide to Python visualization\"\n",
        "author: \"Rishabh Mondal and Ayush Shrivastava\"\n",
        "date: \"2026-02-15\"\n",
        "categories: [Python, Data Visualization, Matplotlib, Tutorial]\n",
        "image: \"https://matplotlib.org/stable/_static/logo2.svg\"\n",
        "format:\n",
        "  html:\n",
        "    toc: true\n",
        "    toc-depth: 3\n",
        "    code-fold: false\n",
        "    highlight-style: github\n",
        "# jupyter: python3.9\n",
        "execute:\n",
        "  echo: true\n",
        "  warning: false\n",
        "  eval: true\n",
        "  cache: false\n",
        "---\n",
        "\n",
        "\n",
        "\n",
        "\n",
        "::: {.callout-tip appearance=\"simple\"}\n",
        "## Welcome!\n",
        "\n",
        "- **Level 1 (Fundamentals):** Core plotting, labels, styling, and saving figures\n",
        "- **Level 2 (Intermediate):** Subplots, chart selection, annotations, and statistical plots\n",
        "- **Level 3 (Advanced):** OO API, 3D plots, animations, colormaps, and professional techniques\n",
        "- **Level 4 (Expert):** Custom projections, advanced layouts, and production-ready code\n",
        "\n",
        "Use this as a comprehensive reference, interview preparation guide, or project companion.\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# Learning Roadmap\n",
        "\n",
        "| Level | Focus | Outcome |\n",
        "|---|---|---|\n",
        "| Fundamentals | Line plots, bar charts, labels, grid, saving | Create clean, publication-ready basic charts |\n",
        "| Intermediate | Subplots, scatter, histograms, pie charts, annotations | Build multi-panel figures with clear insights |\n",
        "| Advanced | OO API, 3D plots, colormaps, box/violin plots, heatmaps | Design professional dashboards and complex visualizations |\n",
        "| Expert | GridSpec, animations, custom styles, transforms | Create production-grade, reusable plotting systems |\n",
        "\n",
        "---\n",
        "\n",
        "# Part 1: Fundamentals\n",
        "\n",
        "## Q1. What is Matplotlib and why is it essential for data visualization?\n",
        "\n",
        "**Answer:** Matplotlib is Python's foundational 2D plotting library, created by John Hunter in 2003. It provides:\n",
        "\n",
        "- Complete control over every plot element (axes, ticks, labels, colors)\n",
        "- Publication-quality output in multiple formats (PNG, PDF, SVG, EPS)\n",
        "- Integration with NumPy, Pandas, and the entire scientific Python ecosystem\n",
        "- Two interfaces: quick `pyplot` (MATLAB-style) and powerful object-oriented API\n"
      ],
      "id": "aa4ce537"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import numpy as np\n",
        "import matplotlib.pyplot as plt\n",
        "import matplotlib as mpl\n",
        "\n",
        "print(f\"Matplotlib version: {mpl.__version__}\")\n",
        "print(f\"Available backends: {mpl.rcsetup.all_backends[:5]}...\")"
      ],
      "id": "e2dcf197",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "::: {.callout-note}\n",
        "If Matplotlib is missing, install it with:\n",
        "\n",
        "```bash\n",
        "pip install matplotlib\n",
        "```\n",
        ":::\n",
        "\n",
        "## Q2. What are the key parts of a Matplotlib figure?\n",
        "\n",
        "**Answer:** Every Matplotlib visualization consists of:\n",
        "\n",
        "- **Figure:** The entire window/page containing everything\n",
        "- **Axes:** The actual plot area with data, ticks, labels (a Figure can have multiple Axes)\n",
        "- **Axis:** The x-axis and y-axis objects controlling ticks and limits\n",
        "- **Artist:** Everything visible on the figure (lines, text, patches, etc.)\n"
      ],
      "id": "f0207e43"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(8, 5))\n",
        "\n",
        "# Demonstrate figure anatomy\n",
        "ax.set_title(\"Figure Anatomy\", fontsize=14, fontweight=\"bold\")\n",
        "ax.set_xlabel(\"X-axis (horizontal)\")\n",
        "ax.set_ylabel(\"Y-axis (vertical)\")\n",
        "ax.text(0.5, 0.5, \"This is the Axes\\n(plot area)\", ha=\"center\", va=\"center\", \n",
        "        fontsize=12, bbox=dict(boxstyle=\"round\", facecolor=\"lightblue\"))\n",
        "ax.set_xlim(0, 1)\n",
        "ax.set_ylim(0, 1)\n",
        "ax.grid(alpha=0.3)\n",
        "\n",
        "# Add annotations showing parts\n",
        "ax.annotate(\"Title\", xy=(0.5, 1.02), xycoords=\"axes fraction\", ha=\"center\", fontsize=10, color=\"red\")\n",
        "ax.annotate(\"Spines\", xy=(0, 0.5), xycoords=\"axes fraction\", ha=\"right\", fontsize=9, color=\"green\")\n",
        "fig.text(0.02, 0.5, \"Figure boundary →\", rotation=90, va=\"center\", fontsize=9, color=\"purple\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "634790f7",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q3. What is the difference between `plt` (pyplot) and the object-oriented API?\n",
        "\n",
        "**Answer:**  \n",
        "\n",
        "| Aspect | pyplot (`plt`) | Object-Oriented (OO) |\n",
        "|--------|----------------|---------------------|\n",
        "| Style | MATLAB-like, stateful | Pythonic, explicit |\n",
        "| Use case | Quick plots, exploration | Complex figures, automation |\n",
        "| Control | Limited | Full control over every element |\n",
        "| Reusability | Harder to reuse | Easy to create functions |\n"
      ],
      "id": "812d840d"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# pyplot style (quick but less control)\n",
        "plt.figure(figsize=(6, 3))\n",
        "plt.plot([1, 2, 3], [1, 4, 9])\n",
        "plt.title(\"Pyplot Style\")\n",
        "plt.show()\n",
        "\n",
        "# Object-oriented style (recommended for complex work)\n",
        "fig, ax = plt.subplots(figsize=(6, 3))\n",
        "ax.plot([1, 2, 3], [1, 4, 9])\n",
        "ax.set_title(\"Object-Oriented Style\")\n",
        "plt.show()"
      ],
      "id": "a61e6000",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q4. How do I create my first line plot?\n",
        "\n",
        "**Answer:** Use `plt.plot()` with x and y arrays, then add labels and show.\n"
      ],
      "id": "fb82797b"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.linspace(0, 10, 100)\n",
        "y = np.sin(x)\n",
        "\n",
        "plt.figure(figsize=(8, 4))\n",
        "plt.plot(x, y, color=\"royalblue\", linewidth=2)\n",
        "plt.title(\"Sine Wave\", fontsize=14)\n",
        "plt.xlabel(\"x\")\n",
        "plt.ylabel(\"sin(x)\")\n",
        "plt.grid(alpha=0.3)\n",
        "plt.show()"
      ],
      "id": "e439f180",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q5. What line styles, markers, and colors are available?\n",
        "\n",
        "**Answer:** Matplotlib offers extensive customization:\n",
        "\n",
        "**Line styles:** `-` (solid), `--` (dashed), `-.` (dash-dot), `:` (dotted)\n",
        "\n",
        "**Markers:** `o` (circle), `s` (square), `^` (triangle), `D` (diamond), `*` (star), `+`, `x`\n",
        "\n",
        "**Colors:** Named colors, hex codes, RGB tuples, or color cycle shortcuts (`C0`, `C1`, etc.)\n"
      ],
      "id": "1a3c140d"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "x = np.linspace(0, 2, 20)\n",
        "\n",
        "# Line styles\n",
        "for i, ls in enumerate(['-', '--', '-.', ':']):\n",
        "    axs[0].plot(x, x + i*0.5, linestyle=ls, linewidth=2, label=f\"'{ls}'\")\n",
        "axs[0].set_title(\"Line Styles\")\n",
        "axs[0].legend()\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Markers\n",
        "markers = ['o', 's', '^', 'D', '*', 'p', 'h']\n",
        "for i, m in enumerate(markers):\n",
        "    axs[1].plot(x[::2], (x[::2] + i*0.3), marker=m, linestyle='-', markersize=8, label=f\"'{m}'\")\n",
        "axs[1].set_title(\"Markers\")\n",
        "axs[1].legend(ncol=2, fontsize=8)\n",
        "axs[1].grid(alpha=0.3)\n",
        "\n",
        "# Colors\n",
        "colors = ['#e63946', '#457b9d', '#2a9d8f', '#f4a261', '#264653']\n",
        "for i, c in enumerate(colors):\n",
        "    axs[2].bar(i, i+1, color=c, label=c)\n",
        "axs[2].set_title(\"Custom Colors (Hex)\")\n",
        "axs[2].legend(fontsize=8)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "c4217462",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q6. How do I add multiple lines with a legend?\n",
        "\n",
        "**Answer:** Plot each line with a `label` parameter, then call `plt.legend()`.\n"
      ],
      "id": "643b34c7"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "t = np.linspace(0, 2 * np.pi, 200)\n",
        "\n",
        "plt.figure(figsize=(9, 4))\n",
        "plt.plot(t, np.sin(t), label=\"sin(t)\", linewidth=2)\n",
        "plt.plot(t, np.cos(t), label=\"cos(t)\", linewidth=2, linestyle=\"--\")\n",
        "plt.plot(t, np.sin(t) * np.cos(t), label=\"sin(t)·cos(t)\", linewidth=2, linestyle=\"-.\")\n",
        "plt.title(\"Trigonometric Functions Comparison\")\n",
        "plt.xlabel(\"t (radians)\")\n",
        "plt.ylabel(\"Value\")\n",
        "plt.legend(loc=\"upper right\")\n",
        "plt.grid(alpha=0.25)\n",
        "plt.axhline(y=0, color='k', linewidth=0.5)\n",
        "plt.show()"
      ],
      "id": "6a0530c4",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q7. How do I customize axis limits and ticks?\n",
        "\n",
        "**Answer:** Use `xlim()`, `ylim()`, `xticks()`, `yticks()` or their OO equivalents.\n"
      ],
      "id": "6f3ea984"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.linspace(0, 10, 100)\n",
        "y = np.exp(-x/3) * np.sin(2*x)\n",
        "\n",
        "fig, ax = plt.subplots(figsize=(9, 4))\n",
        "ax.plot(x, y, color=\"#2a9d8f\", linewidth=2)\n",
        "\n",
        "# Custom limits\n",
        "ax.set_xlim(0, 8)\n",
        "ax.set_ylim(-0.6, 1.0)\n",
        "\n",
        "# Custom ticks\n",
        "ax.set_xticks([0, 2, 4, 6, 8])\n",
        "ax.set_xticklabels(['0', '2π/5', '4π/5', '6π/5', '8π/5'])\n",
        "ax.set_yticks([-0.5, 0, 0.5, 1.0])\n",
        "\n",
        "ax.set_title(\"Custom Axis Limits and Tick Labels\")\n",
        "ax.set_xlabel(\"Phase\")\n",
        "ax.set_ylabel(\"Amplitude\")\n",
        "ax.grid(alpha=0.3)\n",
        "plt.show()"
      ],
      "id": "4a927f0f",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q8. How do I save figures in different formats?\n",
        "\n",
        "**Answer:** Use `savefig()` with the desired file extension. Matplotlib detects format from filename.\n"
      ],
      "id": "6abdd606"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(7, 4))\n",
        "ax.plot(np.random.randn(50).cumsum(), color=\"steelblue\", linewidth=2)\n",
        "ax.set_title(\"Random Walk\")\n",
        "ax.grid(alpha=0.3)\n",
        "\n",
        "# Save in multiple formats (uncomment to save)\n",
        "# fig.savefig(\"plot.png\", dpi=300, bbox_inches=\"tight\")  # Raster, web-friendly\n",
        "# fig.savefig(\"plot.pdf\", bbox_inches=\"tight\")           # Vector, publication\n",
        "# fig.savefig(\"plot.svg\", bbox_inches=\"tight\")           # Vector, scalable\n",
        "# fig.savefig(\"plot.eps\", bbox_inches=\"tight\")           # Vector, LaTeX compatible\n",
        "\n",
        "plt.show()\n",
        "print(\"Supported formats:\", fig.canvas.get_supported_filetypes())"
      ],
      "id": "92a9518e",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q9. How do I add grid lines selectively?\n",
        "\n",
        "**Answer:** Use `grid()` with `axis`, `which`, and `linestyle` parameters.\n"
      ],
      "id": "a14b58cf"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "x = np.linspace(0, 10, 100)\n",
        "y = np.sin(x)\n",
        "\n",
        "# Default grid\n",
        "axs[0].plot(x, y)\n",
        "axs[0].grid(True)\n",
        "axs[0].set_title(\"Default Grid\")\n",
        "\n",
        "# Only horizontal grid\n",
        "axs[1].plot(x, y)\n",
        "axs[1].grid(axis='y', alpha=0.5)\n",
        "axs[1].set_title(\"Horizontal Only\")\n",
        "\n",
        "# Major and minor grid\n",
        "axs[2].plot(x, y)\n",
        "axs[2].grid(which='major', linestyle='-', alpha=0.7)\n",
        "axs[2].grid(which='minor', linestyle=':', alpha=0.4)\n",
        "axs[2].minorticks_on()\n",
        "axs[2].set_title(\"Major + Minor Grid\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "963e42e7",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q10. How do I add horizontal and vertical reference lines?\n",
        "\n",
        "**Answer:** Use `axhline()`, `axvline()`, `hlines()`, and `vlines()`.\n"
      ],
      "id": "2036acbd"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(9, 5))\n",
        "x = np.linspace(0, 10, 100)\n",
        "y = np.sin(x)\n",
        "\n",
        "ax.plot(x, y, linewidth=2, label=\"sin(x)\")\n",
        "\n",
        "# Reference lines\n",
        "ax.axhline(y=0, color='k', linestyle='-', linewidth=0.8, label=\"y=0\")\n",
        "ax.axhline(y=0.5, color='red', linestyle='--', alpha=0.7, label=\"y=0.5 threshold\")\n",
        "ax.axvline(x=np.pi, color='green', linestyle=':', linewidth=2, label=\"x=π\")\n",
        "\n",
        "# Span regions\n",
        "ax.axhspan(-0.2, 0.2, alpha=0.2, color='yellow', label=\"Safe zone\")\n",
        "ax.axvspan(6, 8, alpha=0.15, color='blue', label=\"Highlight region\")\n",
        "\n",
        "ax.set_xlim(0, 10)\n",
        "ax.legend(loc=\"upper right\", fontsize=9)\n",
        "ax.set_title(\"Reference Lines and Spans\")\n",
        "ax.grid(alpha=0.3)\n",
        "plt.show()"
      ],
      "id": "a399bcd9",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "::: {.callout-caution collapse=\"true\"}\n",
        "## Practice (Fundamentals) - 5 Challenges\n",
        "\n",
        "### Challenge 1 (Easy): Basic Line Plot\n",
        "Create a simple line plot of $y = x^2$ for x ∈ [0, 10].\n",
        "\n",
        "**Requirements:**\n",
        "- Blue solid line with linewidth=2\n",
        "- Title: \"Quadratic Function\"\n",
        "- X and Y axis labels\n",
        "- Grid enabled\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 2 (Easy): Multiple Lines with Legend\n",
        "Plot $y = x$, $y = x^2$, and $y = x^3$ on the same figure for x ∈ [0, 3].\n",
        "\n",
        "**Requirements:**\n",
        "- Different colors for each line\n",
        "- Line labels and legend\n",
        "- Add grid with alpha=0.3\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 3 (Moderate): Customized Sine Waves\n",
        "Create a figure showing $\\sin(x)$, $\\sin(2x)$, and $\\sin(3x)$ for x ∈ [0, 2π].\n",
        "\n",
        "**Requirements:**\n",
        "- Different line styles (solid, dashed, dotted)\n",
        "- Custom colors (not default)\n",
        "- Legend positioned at 'upper right'\n",
        "- Add horizontal line at y=0\n",
        "- Custom x-ticks at [0, π/2, π, 3π/2, 2π] with labels ['0', 'π/2', 'π', '3π/2', '2π']\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 4 (Moderate): Reference Lines and Spans\n",
        "Plot $y = e^{-x} \\cdot \\cos(2\\pi x)$ for x ∈ [0, 5].\n",
        "\n",
        "**Requirements:**\n",
        "- Highlight the region where |y| < 0.2 using `axhspan`\n",
        "- Add vertical lines at x = 1, 2, 3, 4 using `axvline`\n",
        "- Mark the envelope curves $\\pm e^{-x}$ with dashed lines\n",
        "- Proper annotations explaining what each element represents\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 5 (Difficult): Publication-Ready Multi-Curve Plot\n",
        "Create a plot showing three exponential decay curves: $e^{-x}$, $e^{-2x}$, and $e^{-0.5x}$ for x ∈ [0, 5].\n",
        "\n",
        "**Requirements:**\n",
        "1. Different line styles and colors for each curve\n",
        "2. A horizontal line at y=0.1 (threshold)\n",
        "3. Vertical line where $e^{-x}$ crosses the threshold (x = ln(10) ≈ 2.303)\n",
        "4. Annotation pointing to the intersection\n",
        "5. LaTeX labels: $e^{-x}$, $e^{-2x}$, $e^{-0.5x}$\n",
        "6. Legend with title \"Decay Rates\"\n",
        "7. Save as both PNG (300 DPI) and SVG\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# Part 2: Intermediate Visualizations\n",
        "\n",
        "## Q11. How do I create bar charts (vertical and horizontal)?\n",
        "\n",
        "**Answer:** Use `bar()` for vertical and `barh()` for horizontal bars.\n"
      ],
      "id": "4bf5b536"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "categories = ['Python', 'JavaScript', 'Java', 'C++', 'Go']\n",
        "values = [85, 72, 68, 45, 52]\n",
        "colors = ['#264653', '#2a9d8f', '#e9c46a', '#f4a261', '#e76f51']\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(12, 4))\n",
        "\n",
        "# Vertical bars\n",
        "axs[0].bar(categories, values, color=colors, edgecolor='white', linewidth=1.5)\n",
        "axs[0].set_title(\"Programming Language Popularity\")\n",
        "axs[0].set_ylabel(\"Score\")\n",
        "axs[0].set_ylim(0, 100)\n",
        "\n",
        "# Add value labels on bars\n",
        "for i, (cat, val) in enumerate(zip(categories, values)):\n",
        "    axs[0].text(i, val + 2, str(val), ha='center', fontweight='bold')\n",
        "\n",
        "# Horizontal bars\n",
        "axs[1].barh(categories, values, color=colors, edgecolor='white', linewidth=1.5)\n",
        "axs[1].set_title(\"Horizontal Bar Chart\")\n",
        "axs[1].set_xlabel(\"Score\")\n",
        "axs[1].set_xlim(0, 100)\n",
        "axs[1].invert_yaxis()  # Top category first\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "aa5e6be9",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q12. How do I create grouped and stacked bar charts?\n",
        "\n",
        "**Answer:** For grouped bars, offset the x positions. For stacked, use the `bottom` parameter.\n"
      ],
      "id": "6a1f5e17"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "categories = ['Q1', 'Q2', 'Q3', 'Q4']\n",
        "product_a = [20, 35, 30, 35]\n",
        "product_b = [25, 32, 34, 20]\n",
        "product_c = [15, 25, 28, 30]\n",
        "\n",
        "x = np.arange(len(categories))\n",
        "width = 0.25\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Grouped bars\n",
        "bars1 = axs[0].bar(x - width, product_a, width, label='Product A', color='#264653')\n",
        "bars2 = axs[0].bar(x, product_b, width, label='Product B', color='#2a9d8f')\n",
        "bars3 = axs[0].bar(x + width, product_c, width, label='Product C', color='#e9c46a')\n",
        "axs[0].set_xlabel('Quarter')\n",
        "axs[0].set_ylabel('Sales')\n",
        "axs[0].set_title('Grouped Bar Chart: Quarterly Sales')\n",
        "axs[0].set_xticks(x)\n",
        "axs[0].set_xticklabels(categories)\n",
        "axs[0].legend()\n",
        "axs[0].grid(axis='y', alpha=0.3)\n",
        "\n",
        "# Stacked bars\n",
        "axs[1].bar(categories, product_a, label='Product A', color='#264653')\n",
        "axs[1].bar(categories, product_b, bottom=product_a, label='Product B', color='#2a9d8f')\n",
        "axs[1].bar(categories, product_c, bottom=np.array(product_a)+np.array(product_b), \n",
        "           label='Product C', color='#e9c46a')\n",
        "axs[1].set_xlabel('Quarter')\n",
        "axs[1].set_ylabel('Total Sales')\n",
        "axs[1].set_title('Stacked Bar Chart: Quarterly Sales')\n",
        "axs[1].legend()\n",
        "axs[1].grid(axis='y', alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "25daf713",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q13. How do I create scatter plots with varying size and color?\n",
        "\n",
        "**Answer:** Use the `s` (size) and `c` (color) parameters with colormaps.\n"
      ],
      "id": "15101900"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(42)\n",
        "n = 100\n",
        "x = np.random.randn(n)\n",
        "y = x + np.random.randn(n) * 0.5\n",
        "colors = np.random.rand(n)\n",
        "sizes = np.abs(np.random.randn(n)) * 200 + 50\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Basic scatter\n",
        "axs[0].scatter(x, y, alpha=0.7, edgecolors='white', linewidth=0.5)\n",
        "axs[0].set_title(\"Basic Scatter Plot\")\n",
        "axs[0].set_xlabel(\"X\")\n",
        "axs[0].set_ylabel(\"Y\")\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Scatter with size and color mapping\n",
        "scatter = axs[1].scatter(x, y, c=colors, s=sizes, cmap='viridis', \n",
        "                          alpha=0.7, edgecolors='white', linewidth=0.5)\n",
        "axs[1].set_title(\"Scatter with Color & Size Mapping\")\n",
        "axs[1].set_xlabel(\"X\")\n",
        "axs[1].set_ylabel(\"Y\")\n",
        "axs[1].grid(alpha=0.3)\n",
        "plt.colorbar(scatter, ax=axs[1], label=\"Color Value\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "a2cdc373",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q14. How do I create histograms with different configurations?\n",
        "\n",
        "**Answer:** Use `hist()` with parameters like `bins`, `density`, `histtype`, `alpha`.\n"
      ],
      "id": "b217bd2e"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(42)\n",
        "data1 = np.random.normal(0, 1, 1000)\n",
        "data2 = np.random.normal(2, 1.5, 1000)\n",
        "\n",
        "fig, axs = plt.subplots(2, 2, figsize=(12, 9))\n",
        "\n",
        "# Basic histogram\n",
        "axs[0, 0].hist(data1, bins=30, color='steelblue', edgecolor='white', alpha=0.8)\n",
        "axs[0, 0].set_title(\"Basic Histogram\")\n",
        "axs[0, 0].set_xlabel(\"Value\")\n",
        "axs[0, 0].set_ylabel(\"Frequency\")\n",
        "\n",
        "# Density histogram (normalized)\n",
        "axs[0, 1].hist(data1, bins=30, density=True, color='#2a9d8f', edgecolor='white', alpha=0.8)\n",
        "axs[0, 1].set_title(\"Density Histogram (Normalized)\")\n",
        "axs[0, 1].set_xlabel(\"Value\")\n",
        "axs[0, 1].set_ylabel(\"Density\")\n",
        "\n",
        "# Overlapping histograms\n",
        "axs[1, 0].hist(data1, bins=30, alpha=0.6, label='Distribution 1', color='#264653')\n",
        "axs[1, 0].hist(data2, bins=30, alpha=0.6, label='Distribution 2', color='#e76f51')\n",
        "axs[1, 0].set_title(\"Overlapping Histograms\")\n",
        "axs[1, 0].legend()\n",
        "\n",
        "# Step histogram\n",
        "axs[1, 1].hist(data1, bins=30, histtype='step', linewidth=2, label='Step', color='#264653')\n",
        "axs[1, 1].hist(data1, bins=30, histtype='stepfilled', alpha=0.3, label='Filled', color='#264653')\n",
        "axs[1, 1].set_title(\"Step Histogram Types\")\n",
        "axs[1, 1].legend()\n",
        "\n",
        "for ax in axs.flat:\n",
        "    ax.grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "3e840b6a",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q15. How do I create pie charts and donut charts?\n",
        "\n",
        "**Answer:** Use `pie()` with explode for emphasis and a white center circle for donuts.\n"
      ],
      "id": "c120ffb1"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "labels = ['Python', 'JavaScript', 'Java', 'C++', 'Others']\n",
        "sizes = [35, 25, 20, 12, 8]\n",
        "colors = ['#264653', '#2a9d8f', '#e9c46a', '#f4a261', '#e76f51']\n",
        "explode = (0.05, 0, 0, 0, 0)  # Explode Python slice\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Basic pie chart\n",
        "axs[0].pie(sizes, explode=explode, labels=labels, colors=colors, autopct='%1.1f%%',\n",
        "           shadow=False, startangle=90, textprops={'fontsize': 10})\n",
        "axs[0].set_title(\"Pie Chart: Language Usage\", fontsize=12)\n",
        "\n",
        "# Donut chart\n",
        "wedges, texts, autotexts = axs[1].pie(sizes, colors=colors, autopct='%1.1f%%',\n",
        "                                        startangle=90, pctdistance=0.75,\n",
        "                                        textprops={'fontsize': 9, 'color': 'white'})\n",
        "# Create donut by adding white circle\n",
        "centre_circle = plt.Circle((0, 0), 0.50, fc='white')\n",
        "axs[1].add_patch(centre_circle)\n",
        "axs[1].legend(wedges, labels, title=\"Languages\", loc=\"center left\", bbox_to_anchor=(0.9, 0.5))\n",
        "axs[1].set_title(\"Donut Chart: Language Usage\", fontsize=12)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "e481d5e8",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q16. How do I create subplots with `plt.subplots()`?\n",
        "\n",
        "**Answer:** `subplots(nrows, ncols)` returns a figure and array of axes.\n"
      ],
      "id": "634e0e5b"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 3, figsize=(14, 8))\n",
        "x = np.linspace(0, 2*np.pi, 100)\n",
        "\n",
        "# Different plots in each subplot\n",
        "axs[0, 0].plot(x, np.sin(x), 'b-')\n",
        "axs[0, 0].set_title(\"sin(x)\")\n",
        "\n",
        "axs[0, 1].plot(x, np.cos(x), 'r--')\n",
        "axs[0, 1].set_title(\"cos(x)\")\n",
        "\n",
        "axs[0, 2].plot(x, np.tan(x), 'g-.')\n",
        "axs[0, 2].set_ylim(-5, 5)\n",
        "axs[0, 2].set_title(\"tan(x) (clipped)\")\n",
        "\n",
        "axs[1, 0].bar(['A', 'B', 'C'], [3, 7, 5], color=['#264653', '#2a9d8f', '#e9c46a'])\n",
        "axs[1, 0].set_title(\"Bar Chart\")\n",
        "\n",
        "axs[1, 1].scatter(np.random.rand(30), np.random.rand(30), c=np.random.rand(30), cmap='viridis')\n",
        "axs[1, 1].set_title(\"Scatter Plot\")\n",
        "\n",
        "axs[1, 2].hist(np.random.randn(200), bins=15, color='steelblue', edgecolor='white')\n",
        "axs[1, 2].set_title(\"Histogram\")\n",
        "\n",
        "# Add super title and common labels\n",
        "fig.suptitle(\"Multiple Subplot Demonstration\", fontsize=14, fontweight='bold')\n",
        "fig.supxlabel(\"X-axis\")\n",
        "fig.supylabel(\"Y-axis\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "ec942f72",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q17. How do I share axes between subplots?\n",
        "\n",
        "**Answer:** Use `sharex=True` or `sharey=True` parameters.\n"
      ],
      "id": "d1e1a385"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 2, figsize=(10, 8), sharex='col', sharey='row')\n",
        "\n",
        "np.random.seed(42)\n",
        "data = [np.random.randn(100) * scale + mean for scale, mean in [(1, 0), (1.5, 2), (0.5, -1), (2, 1)]]\n",
        "\n",
        "for i, ax in enumerate(axs.flat):\n",
        "    ax.hist(data[i], bins=20, alpha=0.7, color=f'C{i}')\n",
        "    ax.set_title(f\"Distribution {i+1}\")\n",
        "\n",
        "# Only outer axes have labels due to sharing\n",
        "for ax in axs[-1, :]:\n",
        "    ax.set_xlabel(\"Value\")\n",
        "for ax in axs[:, 0]:\n",
        "    ax.set_ylabel(\"Frequency\")\n",
        "\n",
        "fig.suptitle(\"Shared Axes: Columns share X, Rows share Y\", fontsize=12)\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "1ff98c22",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q18. How do I add text and annotations to plots?\n",
        "\n",
        "**Answer:** Use `text()` for static text and `annotate()` for text with arrows.\n"
      ],
      "id": "1f6f129a"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(10, 6))\n",
        "x = np.linspace(0, 10, 100)\n",
        "y = np.sin(x) * np.exp(-x/10)\n",
        "\n",
        "ax.plot(x, y, 'b-', linewidth=2)\n",
        "\n",
        "# Find maximum\n",
        "max_idx = np.argmax(y)\n",
        "max_x, max_y = x[max_idx], y[max_idx]\n",
        "\n",
        "# Annotation with arrow\n",
        "ax.annotate(f'Maximum\\n({max_x:.2f}, {max_y:.2f})',\n",
        "            xy=(max_x, max_y),\n",
        "            xytext=(max_x + 2, max_y + 0.3),\n",
        "            fontsize=10,\n",
        "            arrowprops=dict(arrowstyle='->', color='red', lw=1.5),\n",
        "            bbox=dict(boxstyle='round,pad=0.3', facecolor='lightyellow', edgecolor='orange'))\n",
        "\n",
        "# Simple text\n",
        "ax.text(7, 0.2, \"Damped oscillation\", fontsize=11, style='italic', \n",
        "        bbox=dict(boxstyle='round', facecolor='lightblue', alpha=0.5))\n",
        "\n",
        "# Mathematical text using LaTeX\n",
        "ax.text(5, -0.4, r'$y = \\sin(x) \\cdot e^{-x/10}$', fontsize=12)\n",
        "\n",
        "ax.set_title(\"Annotations and Text Placement\")\n",
        "ax.set_xlabel(\"x\")\n",
        "ax.set_ylabel(\"y\")\n",
        "ax.grid(alpha=0.3)\n",
        "ax.axhline(y=0, color='k', linewidth=0.5)\n",
        "plt.show()"
      ],
      "id": "c4c5d23b",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q19. How do I create error bars for uncertainty visualization?\n",
        "\n",
        "**Answer:** Use `errorbar()` with `xerr` and/or `yerr` parameters.\n"
      ],
      "id": "8d02f876"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Experimental data with uncertainties\n",
        "x = np.array([1, 2, 3, 4, 5])\n",
        "y = np.array([2.1, 3.9, 6.2, 7.8, 10.1])\n",
        "y_err = np.array([0.3, 0.4, 0.5, 0.3, 0.6])\n",
        "x_err = np.array([0.1, 0.1, 0.15, 0.1, 0.2])\n",
        "\n",
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "\n",
        "# Symmetric y-error bars\n",
        "axs[0].errorbar(x, y, yerr=y_err, fmt='o-', capsize=4, capthick=2, \n",
        "                color='#264653', ecolor='#e76f51', markersize=8)\n",
        "axs[0].set_title(\"Y Error Bars\")\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Both x and y error bars\n",
        "axs[1].errorbar(x, y, xerr=x_err, yerr=y_err, fmt='s', capsize=3, \n",
        "                color='#2a9d8f', ecolor='gray', markersize=8)\n",
        "axs[1].set_title(\"X and Y Error Bars\")\n",
        "axs[1].grid(alpha=0.3)\n",
        "\n",
        "# Asymmetric error bars\n",
        "y_err_asym = np.array([[0.2, 0.3, 0.2, 0.25, 0.3],  # Lower errors\n",
        "                       [0.4, 0.5, 0.6, 0.35, 0.7]])  # Upper errors\n",
        "axs[2].errorbar(x, y, yerr=y_err_asym, fmt='D-', capsize=4, \n",
        "                color='#e9c46a', ecolor='#264653', markersize=8)\n",
        "axs[2].set_title(\"Asymmetric Error Bars\")\n",
        "axs[2].grid(alpha=0.3)\n",
        "\n",
        "for ax in axs:\n",
        "    ax.set_xlabel(\"X\")\n",
        "    ax.set_ylabel(\"Y\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "d9f43e91",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q20. How do I create box plots for statistical distribution comparison?\n",
        "\n",
        "**Answer:** Use `boxplot()` or the more flexible `bxp()`.\n"
      ],
      "id": "759545ca"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(42)\n",
        "data = [np.random.normal(0, std, 100) for std in [1, 1.5, 2, 0.8]]\n",
        "labels = ['Group A', 'Group B', 'Group C', 'Group D']\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Basic box plot\n",
        "bp = axs[0].boxplot(data, labels=labels, patch_artist=True)\n",
        "colors = ['#264653', '#2a9d8f', '#e9c46a', '#e76f51']\n",
        "for patch, color in zip(bp['boxes'], colors):\n",
        "    patch.set_facecolor(color)\n",
        "    patch.set_alpha(0.7)\n",
        "axs[0].set_title(\"Box Plot: Distribution Comparison\")\n",
        "axs[0].set_ylabel(\"Value\")\n",
        "axs[0].grid(axis='y', alpha=0.3)\n",
        "\n",
        "# Horizontal box plot with notch\n",
        "bp2 = axs[1].boxplot(data, labels=labels, patch_artist=True, vert=False, notch=True)\n",
        "for patch, color in zip(bp2['boxes'], colors):\n",
        "    patch.set_facecolor(color)\n",
        "    patch.set_alpha(0.7)\n",
        "axs[1].set_title(\"Horizontal Notched Box Plot\")\n",
        "axs[1].set_xlabel(\"Value\")\n",
        "axs[1].grid(axis='x', alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "ee936dbc",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q21. How do I create violin plots for richer distribution visualization?\n",
        "\n",
        "**Answer:** Use `violinplot()` to show both the distribution shape and summary statistics.\n"
      ],
      "id": "e57a6f69"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(42)\n",
        "data = [np.concatenate([np.random.normal(0, 1, 50), np.random.normal(3, 0.5, 30)]),\n",
        "        np.random.normal(1, 1.5, 100),\n",
        "        np.random.exponential(1, 100),\n",
        "        np.random.uniform(-2, 2, 100)]\n",
        "\n",
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Basic violin plot\n",
        "vp = axs[0].violinplot(data, showmeans=True, showmedians=True)\n",
        "for i, body in enumerate(vp['bodies']):\n",
        "    body.set_facecolor(f'C{i}')\n",
        "    body.set_alpha(0.7)\n",
        "axs[0].set_xticks([1, 2, 3, 4])\n",
        "axs[0].set_xticklabels(['Bimodal', 'Normal', 'Exponential', 'Uniform'])\n",
        "axs[0].set_title(\"Violin Plot: Different Distributions\")\n",
        "axs[0].set_ylabel(\"Value\")\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Half violin with box plot overlay\n",
        "parts = axs[1].violinplot(data, showextrema=False)\n",
        "for i, body in enumerate(parts['bodies']):\n",
        "    body.set_facecolor(f'C{i}')\n",
        "    body.set_alpha(0.7)\n",
        "# Add box plots on top\n",
        "bp = axs[1].boxplot(data, widths=0.15)\n",
        "axs[1].set_xticks([1, 2, 3, 4])\n",
        "axs[1].set_xticklabels(['Bimodal', 'Normal', 'Exponential', 'Uniform'])\n",
        "axs[1].set_title(\"Violin + Box Plot Overlay\")\n",
        "axs[1].set_ylabel(\"Value\")\n",
        "axs[1].grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "8c63dbae",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q22. What chart type should I use for different data scenarios?\n",
        "\n",
        "**Answer:** Chart selection depends on your data and the story you want to tell:\n",
        "\n",
        "| Data Type | Chart | Use Case |\n",
        "|-----------|-------|----------|\n",
        "| Trend over time | Line | Time series, continuous change |\n",
        "| Category comparison | Bar | Discrete categories, rankings |\n",
        "| Relationship | Scatter | Correlation, clusters |\n",
        "| Distribution | Histogram, Box, Violin | Spread, outliers, shape |\n",
        "| Part of whole | Pie, Stacked Bar | Proportions (use sparingly) |\n",
        "| 2D density | Heatmap, Contour | Matrix data, correlations |\n",
        "| Hierarchical | Treemap, Sunburst | Nested categories |\n"
      ],
      "id": "117623e9"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 3, figsize=(14, 9))\n",
        "np.random.seed(42)\n",
        "\n",
        "# Time series → Line\n",
        "dates = np.arange(30)\n",
        "values = np.cumsum(np.random.randn(30)) + 50\n",
        "axs[0, 0].plot(dates, values, 'o-', color='#264653', markersize=4)\n",
        "axs[0, 0].set_title(\"Trend → Line Chart\")\n",
        "axs[0, 0].set_xlabel(\"Day\")\n",
        "axs[0, 0].fill_between(dates, values, alpha=0.2)\n",
        "\n",
        "# Categories → Bar\n",
        "cats = ['A', 'B', 'C', 'D']\n",
        "vals = [25, 40, 30, 45]\n",
        "axs[0, 1].bar(cats, vals, color=['#264653', '#2a9d8f', '#e9c46a', '#e76f51'])\n",
        "axs[0, 1].set_title(\"Comparison → Bar Chart\")\n",
        "\n",
        "# Correlation → Scatter\n",
        "x = np.random.randn(50)\n",
        "y = 0.7*x + np.random.randn(50)*0.5\n",
        "axs[0, 2].scatter(x, y, alpha=0.7, c='#2a9d8f', edgecolors='white')\n",
        "axs[0, 2].set_title(\"Relationship → Scatter\")\n",
        "\n",
        "# Distribution → Histogram\n",
        "data = np.random.randn(500)\n",
        "axs[1, 0].hist(data, bins=25, color='#264653', edgecolor='white', alpha=0.8)\n",
        "axs[1, 0].set_title(\"Distribution → Histogram\")\n",
        "\n",
        "# Spread → Box plot\n",
        "data = [np.random.randn(100)*s + m for s, m in [(1, 0), (0.5, 2), (1.5, 1)]]\n",
        "axs[1, 1].boxplot(data, labels=['Low var', 'High mean', 'High var'], patch_artist=True)\n",
        "axs[1, 1].set_title(\"Spread → Box Plot\")\n",
        "\n",
        "# Proportion → Pie (use sparingly!)\n",
        "sizes = [35, 25, 20, 20]\n",
        "axs[1, 2].pie(sizes, labels=['A', 'B', 'C', 'D'], autopct='%1.0f%%', \n",
        "              colors=['#264653', '#2a9d8f', '#e9c46a', '#e76f51'])\n",
        "axs[1, 2].set_title(\"Proportion → Pie (careful!)\")\n",
        "\n",
        "for ax in axs.flat:\n",
        "    if ax != axs[1, 2]:\n",
        "        ax.grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "b7cad019",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "::: {.callout-caution collapse=\"true\"}\n",
        "## Practice (Intermediate) - 5 Challenges\n",
        "\n",
        "### Challenge 1 (Easy): Basic Bar Chart\n",
        "Create a bar chart comparing sales across 5 products: ['Laptop', 'Phone', 'Tablet', 'Watch', 'Earbuds'] with values [150, 280, 95, 120, 200].\n",
        "\n",
        "**Requirements:**\n",
        "- Different color for each bar\n",
        "- Add value labels on top of each bar\n",
        "- Title and axis labels\n",
        "- Grid on y-axis only\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 2 (Easy): Simple Scatter Plot\n",
        "Generate 50 random points (x from uniform [0, 10], y = 2x + noise).\n",
        "\n",
        "**Requirements:**\n",
        "- Scatter plot with alpha=0.7\n",
        "- Different marker size based on y-value\n",
        "- Add a trend line (y = 2x)\n",
        "- Legend distinguishing data vs. trend\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 3 (Moderate): Grouped Bar Chart with Error Bars\n",
        "Compare performance metrics across 4 teams for 3 quarters.\n",
        "\n",
        "**Requirements:**\n",
        "- Grouped bars (3 groups of 4 bars each)\n",
        "- Error bars representing standard deviation\n",
        "- Different colors per quarter\n",
        "- Rotated x-tick labels\n",
        "- Legend outside the plot area\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 4 (Moderate): Histogram with Statistical Annotations\n",
        "Generate 1000 samples from a normal distribution (mean=75, std=10).\n",
        "\n",
        "**Requirements:**\n",
        "- Histogram with 30 bins\n",
        "- Overlay a density curve (kernel density estimate or theoretical normal)\n",
        "- Vertical lines showing mean and ±1σ, ±2σ\n",
        "- Text annotation showing mean and standard deviation values\n",
        "- Different colors for each region (within 1σ, between 1σ-2σ, beyond 2σ)\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 5 (Difficult): Comprehensive Analytics Dashboard\n",
        "Create a 2×2 subplot panel analyzing mock business data:\n",
        "\n",
        "**Requirements:**\n",
        "1. **Top-left:** Monthly revenue time series (line chart with fill_between showing growth area)\n",
        "2. **Top-right:** Revenue by product category (horizontal bar chart, sorted by value)\n",
        "3. **Bottom-left:** Revenue vs. expenses scatter plot with:\n",
        "   - Color representing profit margin\n",
        "   - Size representing transaction volume\n",
        "   - Colorbar showing profit scale\n",
        "4. **Bottom-right:** Distribution of daily transactions (histogram with overlaid density curve)\n",
        "\n",
        "Add:\n",
        "- Super title: \"Business Analytics Dashboard\"\n",
        "- Consistent color scheme across all panels\n",
        "- Proper annotations for key insights (e.g., best month, highest margin product)\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# Part 3: Advanced Visualizations\n",
        "\n",
        "## Q23. How do I use GridSpec for complex subplot layouts?\n",
        "\n",
        "**Answer:** `GridSpec` provides fine-grained control over subplot sizes and arrangements.\n"
      ],
      "id": "686645e5"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import matplotlib.gridspec as gridspec\n",
        "\n",
        "fig = plt.figure(figsize=(12, 8))\n",
        "gs = gridspec.GridSpec(3, 3, figure=fig, width_ratios=[2, 1, 1], height_ratios=[1, 2, 1])\n",
        "\n",
        "# Large plot on left spanning 2 rows\n",
        "ax_main = fig.add_subplot(gs[0:2, 0])\n",
        "x = np.linspace(0, 10, 100)\n",
        "ax_main.plot(x, np.sin(x), label='sin(x)')\n",
        "ax_main.plot(x, np.cos(x), label='cos(x)')\n",
        "ax_main.set_title(\"Main Plot (2 rows)\")\n",
        "ax_main.legend()\n",
        "ax_main.grid(alpha=0.3)\n",
        "\n",
        "# Top right corner plots\n",
        "ax_top1 = fig.add_subplot(gs[0, 1])\n",
        "ax_top1.bar(['A', 'B', 'C'], [3, 7, 5], color=['#264653', '#2a9d8f', '#e9c46a'])\n",
        "ax_top1.set_title(\"Top 1\")\n",
        "\n",
        "ax_top2 = fig.add_subplot(gs[0, 2])\n",
        "ax_top2.scatter(np.random.rand(20), np.random.rand(20), c='#e76f51')\n",
        "ax_top2.set_title(\"Top 2\")\n",
        "\n",
        "# Middle right\n",
        "ax_mid = fig.add_subplot(gs[1, 1:])\n",
        "ax_mid.hist(np.random.randn(200), bins=20, color='steelblue', edgecolor='white')\n",
        "ax_mid.set_title(\"Middle Wide (spans 2 columns)\")\n",
        "\n",
        "# Bottom row spanning all columns\n",
        "ax_bottom = fig.add_subplot(gs[2, :])\n",
        "ax_bottom.plot(np.random.randn(100).cumsum(), color='#2a9d8f', linewidth=2)\n",
        "ax_bottom.set_title(\"Bottom Wide (spans 3 columns)\")\n",
        "ax_bottom.grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "ac65b6b1",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q24. How do I create heatmaps with `imshow` and `pcolormesh`?\n",
        "\n",
        "**Answer:** Use `imshow()` for regular grids and `pcolormesh()` for more flexibility.\n"
      ],
      "id": "8cd8f7a1"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Create sample data\n",
        "np.random.seed(42)\n",
        "data = np.random.rand(10, 10)\n",
        "correlation = np.corrcoef(np.random.randn(5, 100))\n",
        "\n",
        "fig, axs = plt.subplots(1, 3, figsize=(15, 4.5))\n",
        "\n",
        "# Basic heatmap with imshow\n",
        "im1 = axs[0].imshow(data, cmap='viridis', aspect='auto')\n",
        "axs[0].set_title(\"imshow: Random Data\")\n",
        "plt.colorbar(im1, ax=axs[0], shrink=0.8)\n",
        "\n",
        "# Correlation heatmap with annotations\n",
        "im2 = axs[1].imshow(correlation, cmap='RdBu_r', vmin=-1, vmax=1)\n",
        "for i in range(5):\n",
        "    for j in range(5):\n",
        "        axs[1].text(j, i, f'{correlation[i,j]:.2f}', ha='center', va='center', \n",
        "                   color='white' if abs(correlation[i,j]) > 0.5 else 'black', fontsize=9)\n",
        "axs[1].set_title(\"Correlation Heatmap\")\n",
        "axs[1].set_xticks(range(5))\n",
        "axs[1].set_yticks(range(5))\n",
        "axs[1].set_xticklabels([f'Var{i+1}' for i in range(5)])\n",
        "axs[1].set_yticklabels([f'Var{i+1}' for i in range(5)])\n",
        "plt.colorbar(im2, ax=axs[1], shrink=0.8, label='Correlation')\n",
        "\n",
        "# pcolormesh with custom grid\n",
        "x = np.arange(0, 11, 1)\n",
        "y = np.arange(0, 11, 1)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "Z = np.sin(X/2) * np.cos(Y/2)\n",
        "im3 = axs[2].pcolormesh(X, Y, Z, cmap='coolwarm', shading='auto')\n",
        "axs[2].set_title(\"pcolormesh: sin(x)·cos(y)\")\n",
        "plt.colorbar(im3, ax=axs[2], shrink=0.8)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "7248a468",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q25. How do I create contour plots?\n",
        "\n",
        "**Answer:** Use `contour()` for lines and `contourf()` for filled contours.\n"
      ],
      "id": "185d523b"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "x = np.linspace(-3, 3, 100)\n",
        "y = np.linspace(-3, 3, 100)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "Z = np.sin(X) * np.cos(Y) * np.exp(-0.1*(X**2 + Y**2))\n",
        "\n",
        "fig, axs = plt.subplots(1, 3, figsize=(15, 4.5))\n",
        "\n",
        "# Contour lines\n",
        "cs1 = axs[0].contour(X, Y, Z, levels=15, cmap='viridis')\n",
        "axs[0].clabel(cs1, inline=True, fontsize=8)\n",
        "axs[0].set_title(\"Contour Lines\")\n",
        "axs[0].set_xlabel(\"X\")\n",
        "axs[0].set_ylabel(\"Y\")\n",
        "\n",
        "# Filled contours\n",
        "cs2 = axs[1].contourf(X, Y, Z, levels=20, cmap='RdYlBu_r')\n",
        "plt.colorbar(cs2, ax=axs[1])\n",
        "axs[1].set_title(\"Filled Contours\")\n",
        "axs[1].set_xlabel(\"X\")\n",
        "axs[1].set_ylabel(\"Y\")\n",
        "\n",
        "# Contour lines over filled\n",
        "cs3_fill = axs[2].contourf(X, Y, Z, levels=15, cmap='coolwarm', alpha=0.8)\n",
        "cs3_line = axs[2].contour(X, Y, Z, levels=15, colors='black', linewidths=0.5)\n",
        "axs[2].clabel(cs3_line, inline=True, fontsize=7)\n",
        "plt.colorbar(cs3_fill, ax=axs[2])\n",
        "axs[2].set_title(\"Filled + Line Overlay\")\n",
        "axs[2].set_xlabel(\"X\")\n",
        "axs[2].set_ylabel(\"Y\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "bc256202",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q26. How do I create 3D plots?\n",
        "\n",
        "**Answer:** Import `mpl_toolkits.mplot3d` and use `projection='3d'`.\n"
      ],
      "id": "248680eb"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from mpl_toolkits.mplot3d import Axes3D\n",
        "\n",
        "fig = plt.figure(figsize=(15, 5))\n",
        "\n",
        "# 3D Surface plot\n",
        "ax1 = fig.add_subplot(131, projection='3d')\n",
        "x = np.linspace(-5, 5, 50)\n",
        "y = np.linspace(-5, 5, 50)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "Z = np.sin(np.sqrt(X**2 + Y**2))\n",
        "surf = ax1.plot_surface(X, Y, Z, cmap='viridis', alpha=0.8, edgecolor='none')\n",
        "ax1.set_title(\"3D Surface\")\n",
        "ax1.set_xlabel(\"X\")\n",
        "ax1.set_ylabel(\"Y\")\n",
        "ax1.set_zlabel(\"Z\")\n",
        "\n",
        "# 3D Wireframe\n",
        "ax2 = fig.add_subplot(132, projection='3d')\n",
        "ax2.plot_wireframe(X, Y, Z, color='steelblue', linewidth=0.5)\n",
        "ax2.set_title(\"3D Wireframe\")\n",
        "ax2.set_xlabel(\"X\")\n",
        "ax2.set_ylabel(\"Y\")\n",
        "\n",
        "# 3D Scatter\n",
        "ax3 = fig.add_subplot(133, projection='3d')\n",
        "np.random.seed(42)\n",
        "xs = np.random.randn(100)\n",
        "ys = np.random.randn(100)\n",
        "zs = xs + ys + np.random.randn(100) * 0.5\n",
        "ax3.scatter(xs, ys, zs, c=zs, cmap='plasma', s=30, alpha=0.7)\n",
        "ax3.set_title(\"3D Scatter\")\n",
        "ax3.set_xlabel(\"X\")\n",
        "ax3.set_ylabel(\"Y\")\n",
        "ax3.set_zlabel(\"Z\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "13d36b0c",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q27. How do I create 3D bar charts and line plots?\n",
        "\n",
        "**Answer:** Use `bar3d()` for bars and `plot()` on 3D axes for lines.\n"
      ],
      "id": "12383a01"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig = plt.figure(figsize=(14, 5))\n",
        "\n",
        "# 3D Bar chart\n",
        "ax1 = fig.add_subplot(121, projection='3d')\n",
        "x = np.arange(4)\n",
        "y = np.arange(3)\n",
        "_x, _y = np.meshgrid(x, y)\n",
        "x_flat, y_flat = _x.ravel(), _y.ravel()\n",
        "z_flat = np.zeros_like(x_flat)\n",
        "values = np.array([[3, 5, 7, 4], [2, 6, 4, 8], [5, 3, 6, 2]]).ravel()\n",
        "colors = plt.cm.viridis(values / values.max())\n",
        "\n",
        "ax1.bar3d(x_flat, y_flat, z_flat, 0.6, 0.6, values, color=colors, alpha=0.8)\n",
        "ax1.set_xlabel(\"Product\")\n",
        "ax1.set_ylabel(\"Quarter\")\n",
        "ax1.set_zlabel(\"Sales\")\n",
        "ax1.set_title(\"3D Bar Chart\")\n",
        "\n",
        "# 3D Parametric curve\n",
        "ax2 = fig.add_subplot(122, projection='3d')\n",
        "t = np.linspace(0, 4*np.pi, 200)\n",
        "x = np.sin(t)\n",
        "y = np.cos(t)\n",
        "z = t / (4*np.pi)\n",
        "ax2.plot(x, y, z, linewidth=2, color='#e76f51')\n",
        "ax2.scatter(x[::20], y[::20], z[::20], s=30, c='#264653')\n",
        "ax2.set_title(\"3D Parametric Curve (Helix)\")\n",
        "ax2.set_xlabel(\"X\")\n",
        "ax2.set_ylabel(\"Y\")\n",
        "ax2.set_zlabel(\"Z\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "7efafac1",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q28. How do I use dual y-axes effectively?\n",
        "\n",
        "**Answer:** Use `twinx()` for a secondary y-axis with different scale.\n"
      ],
      "id": "7a08b258"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax1 = plt.subplots(figsize=(10, 5))\n",
        "\n",
        "# Primary axis - Temperature\n",
        "months = np.arange(1, 13)\n",
        "temperature = np.array([5, 7, 12, 18, 23, 28, 30, 29, 24, 17, 10, 6])\n",
        "ax1.plot(months, temperature, 'o-', color='#e76f51', linewidth=2, markersize=8, label='Temperature')\n",
        "ax1.set_xlabel(\"Month\", fontsize=11)\n",
        "ax1.set_ylabel(\"Temperature (°C)\", color='#e76f51', fontsize=11)\n",
        "ax1.tick_params(axis='y', labelcolor='#e76f51')\n",
        "ax1.set_xticks(months)\n",
        "ax1.set_xticklabels(['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', \n",
        "                     'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'])\n",
        "\n",
        "# Secondary axis - Rainfall\n",
        "ax2 = ax1.twinx()\n",
        "rainfall = np.array([45, 38, 42, 55, 70, 85, 60, 65, 75, 80, 55, 50])\n",
        "ax2.bar(months, rainfall, alpha=0.4, color='#264653', label='Rainfall')\n",
        "ax2.set_ylabel(\"Rainfall (mm)\", color='#264653', fontsize=11)\n",
        "ax2.tick_params(axis='y', labelcolor='#264653')\n",
        "\n",
        "# Combined legend\n",
        "lines_1, labels_1 = ax1.get_legend_handles_labels()\n",
        "lines_2, labels_2 = ax2.get_legend_handles_labels()\n",
        "ax1.legend(lines_1 + lines_2, labels_1 + labels_2, loc='upper right')\n",
        "\n",
        "ax1.set_title(\"Monthly Temperature and Rainfall\", fontsize=13, fontweight='bold')\n",
        "ax1.grid(alpha=0.3)\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "dc60d233",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q29. How do I customize spines (axis lines)?\n",
        "\n",
        "**Answer:** Access spines through `ax.spines` and modify visibility, position, and style.\n"
      ],
      "id": "08407bc9"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 2, figsize=(11, 9))\n",
        "x = np.linspace(-2, 2, 100)\n",
        "y = x**2\n",
        "\n",
        "# Default spines\n",
        "axs[0, 0].plot(x, y, 'b-', linewidth=2)\n",
        "axs[0, 0].set_title(\"Default Spines\")\n",
        "axs[0, 0].grid(alpha=0.3)\n",
        "\n",
        "# Centered spines (like mathematical axes)\n",
        "axs[0, 1].plot(x, np.sin(x*np.pi), 'r-', linewidth=2)\n",
        "axs[0, 1].spines['left'].set_position('center')\n",
        "axs[0, 1].spines['bottom'].set_position('center')\n",
        "axs[0, 1].spines['right'].set_color('none')\n",
        "axs[0, 1].spines['top'].set_color('none')\n",
        "axs[0, 1].set_title(\"Centered Spines\")\n",
        "\n",
        "# Only left and bottom (classic)\n",
        "axs[1, 0].plot(x, y, 'g-', linewidth=2)\n",
        "axs[1, 0].spines['right'].set_visible(False)\n",
        "axs[1, 0].spines['top'].set_visible(False)\n",
        "axs[1, 0].set_title(\"Left & Bottom Only\")\n",
        "\n",
        "# Box with thick spines\n",
        "axs[1, 1].plot(x, y, 'm-', linewidth=2)\n",
        "for spine in axs[1, 1].spines.values():\n",
        "    spine.set_linewidth(2)\n",
        "    spine.set_edgecolor('#264653')\n",
        "axs[1, 1].set_title(\"Thick Colored Spines\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "1c09d108",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q30. How do I work with colormaps and color normalization?\n",
        "\n",
        "**Answer:** Matplotlib offers sequential, diverging, and categorical colormaps with various normalization options.\n"
      ],
      "id": "ddb6c82e"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import matplotlib.colors as mcolors\n",
        "\n",
        "fig, axs = plt.subplots(2, 3, figsize=(15, 9))\n",
        "data = np.random.rand(10, 10)\n",
        "\n",
        "# Different colormaps\n",
        "cmaps = ['viridis', 'plasma', 'coolwarm', 'RdYlGn', 'Spectral', 'twilight']\n",
        "for ax, cmap in zip(axs.flat, cmaps):\n",
        "    im = ax.imshow(data, cmap=cmap)\n",
        "    ax.set_title(f\"cmap='{cmap}'\")\n",
        "    plt.colorbar(im, ax=ax, shrink=0.7)\n",
        "    ax.set_xticks([])\n",
        "    ax.set_yticks([])\n",
        "\n",
        "plt.suptitle(\"Common Colormaps in Matplotlib\", fontsize=14, fontweight='bold')\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "2af1f7f6",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q31. How do I use logarithmic and other scales?\n",
        "\n",
        "**Answer:** Use `set_xscale()` or `set_yscale()` with 'log', 'symlog', or 'logit'.\n"
      ],
      "id": "3340833c"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 2, figsize=(12, 9))\n",
        "x = np.linspace(0.01, 100, 1000)\n",
        "y = x**2\n",
        "\n",
        "# Linear scale\n",
        "axs[0, 0].plot(x, y)\n",
        "axs[0, 0].set_title(\"Linear Scale\")\n",
        "axs[0, 0].grid(True, alpha=0.3)\n",
        "\n",
        "# Logarithmic y-axis\n",
        "axs[0, 1].plot(x, y)\n",
        "axs[0, 1].set_yscale('log')\n",
        "axs[0, 1].set_title(\"Log Y Scale\")\n",
        "axs[0, 1].grid(True, alpha=0.3, which='both')\n",
        "\n",
        "# Log-log scale\n",
        "axs[1, 0].plot(x, y)\n",
        "axs[1, 0].set_xscale('log')\n",
        "axs[1, 0].set_yscale('log')\n",
        "axs[1, 0].set_title(\"Log-Log Scale\")\n",
        "axs[1, 0].grid(True, alpha=0.3, which='both')\n",
        "\n",
        "# Symlog for data with negative values\n",
        "x2 = np.linspace(-100, 100, 500)\n",
        "y2 = x2\n",
        "axs[1, 1].plot(x2, y2)\n",
        "axs[1, 1].set_xscale('symlog', linthresh=10)\n",
        "axs[1, 1].set_yscale('symlog', linthresh=10)\n",
        "axs[1, 1].set_title(\"Symmetric Log (symlog)\")\n",
        "axs[1, 1].grid(True, alpha=0.3)\n",
        "axs[1, 1].axhline(0, color='k', linewidth=0.5)\n",
        "axs[1, 1].axvline(0, color='k', linewidth=0.5)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "ef3a57b0",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q32. How do I create polar plots?\n",
        "\n",
        "**Answer:** Use `projection='polar'` when creating axes.\n"
      ],
      "id": "a3e00443"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4.5), subplot_kw={'projection': 'polar'})\n",
        "\n",
        "# Polar line plot\n",
        "theta = np.linspace(0, 2*np.pi, 100)\n",
        "r = 1 + 0.5*np.cos(5*theta)\n",
        "axs[0].plot(theta, r, linewidth=2, color='#2a9d8f')\n",
        "axs[0].fill(theta, r, alpha=0.3, color='#2a9d8f')\n",
        "axs[0].set_title(\"Polar Rose (r = 1 + 0.5cos(5θ))\", pad=20)\n",
        "\n",
        "# Polar bar chart (radar chart)\n",
        "categories = ['Speed', 'Power', 'Defense', 'Magic', 'Luck', 'HP']\n",
        "values = [85, 70, 60, 90, 75, 80]\n",
        "angles = np.linspace(0, 2*np.pi, len(categories), endpoint=False).tolist()\n",
        "values_closed = values + [values[0]]\n",
        "angles_closed = angles + [angles[0]]\n",
        "axs[1].plot(angles_closed, values_closed, 'o-', linewidth=2, color='#e76f51')\n",
        "axs[1].fill(angles_closed, values_closed, alpha=0.3, color='#e76f51')\n",
        "axs[1].set_xticks(angles)\n",
        "axs[1].set_xticklabels(categories)\n",
        "axs[1].set_title(\"Radar Chart: Character Stats\", pad=20)\n",
        "\n",
        "# Polar scatter\n",
        "np.random.seed(42)\n",
        "theta_scatter = np.random.uniform(0, 2*np.pi, 50)\n",
        "r_scatter = np.random.uniform(0.5, 2, 50)\n",
        "colors = np.random.rand(50)\n",
        "axs[2].scatter(theta_scatter, r_scatter, c=colors, cmap='viridis', alpha=0.7, s=50)\n",
        "axs[2].set_title(\"Polar Scatter\", pad=20)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "38098dc3",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q33. How do I add mathematical expressions using LaTeX?\n",
        "\n",
        "**Answer:** Wrap text in raw strings with `$...$` for inline or `$$...$$` for display math.\n"
      ],
      "id": "4cfc9129"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(10, 6))\n",
        "\n",
        "x = np.linspace(-3, 3, 200)\n",
        "y = (1/np.sqrt(2*np.pi)) * np.exp(-x**2/2)\n",
        "\n",
        "ax.plot(x, y, linewidth=2.5, color='#264653', label=r'$f(x) = \\frac{1}{\\sqrt{2\\pi}}e^{-\\frac{x^2}{2}}$')\n",
        "ax.fill_between(x, y, alpha=0.2, color='#264653')\n",
        "\n",
        "# Add mathematical annotations\n",
        "ax.text(0, 0.45, r'$\\mu = 0, \\sigma = 1$', fontsize=12, ha='center')\n",
        "ax.text(1.5, 0.15, r'$\\int_{-\\infty}^{\\infty} f(x)dx = 1$', fontsize=11, \n",
        "        bbox=dict(boxstyle='round', facecolor='lightyellow', alpha=0.8))\n",
        "\n",
        "# Annotate inflection points\n",
        "ax.annotate(r'Inflection: $x = -\\sigma$', xy=(-1, 0.24), xytext=(-2.5, 0.3),\n",
        "            arrowprops=dict(arrowstyle='->', color='gray'), fontsize=10)\n",
        "ax.annotate(r'Inflection: $x = +\\sigma$', xy=(1, 0.24), xytext=(2, 0.35),\n",
        "            arrowprops=dict(arrowstyle='->', color='gray'), fontsize=10)\n",
        "\n",
        "ax.set_title(r'Standard Normal Distribution: $\\mathcal{N}(0, 1)$', fontsize=14)\n",
        "ax.set_xlabel(r'$x$', fontsize=12)\n",
        "ax.set_ylabel(r'$f(x)$', fontsize=12)\n",
        "ax.legend(loc='upper right', fontsize=11)\n",
        "ax.grid(alpha=0.3)\n",
        "ax.set_xlim(-3, 3)\n",
        "ax.set_ylim(0, 0.5)\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "1c071333",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q34. How do I use built-in style sheets?\n",
        "\n",
        "**Answer:** Use `plt.style.use()` or `plt.style.context()` for different visual themes.\n"
      ],
      "id": "e7a99346"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Show available styles\n",
        "print(\"Available styles:\", plt.style.available[:10], \"...\")\n",
        "\n",
        "# Compare styles\n",
        "styles = ['default', 'seaborn-v0_8-whitegrid', 'ggplot', 'dark_background']\n",
        "fig, axs = plt.subplots(2, 2, figsize=(12, 9))\n",
        "x = np.linspace(0, 10, 50)\n",
        "\n",
        "for ax, style in zip(axs.flat, styles):\n",
        "    with plt.style.context(style):\n",
        "        ax.plot(x, np.sin(x), label='sin(x)')\n",
        "        ax.plot(x, np.cos(x), label='cos(x)')\n",
        "        ax.set_title(f\"Style: '{style}'\", fontsize=10)\n",
        "        ax.legend(fontsize=8)\n",
        "        ax.grid(True)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "f1de854c",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "::: {.callout-caution collapse=\"true\"}\n",
        "## Practice (Advanced) - 5 Challenges\n",
        "\n",
        "### Challenge 1 (Easy): Basic Heatmap\n",
        "Create a 10×10 heatmap of random values.\n",
        "\n",
        "**Requirements:**\n",
        "- Use 'viridis' colormap\n",
        "- Add colorbar with label\n",
        "- Row and column labels\n",
        "- Title\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 2 (Easy): Simple 3D Plot\n",
        "Create a 3D surface plot of $z = \\sin(\\sqrt{x^2 + y^2})$ for x, y ∈ [-5, 5].\n",
        "\n",
        "**Requirements:**\n",
        "- Use 'coolwarm' colormap\n",
        "- Set appropriate viewing angle\n",
        "- Label all three axes\n",
        "- Add title\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 3 (Moderate): Dual-Axis Time Series\n",
        "Plot temperature and humidity over 30 days.\n",
        "\n",
        "**Requirements:**\n",
        "- Temperature on left y-axis (°C), humidity on right y-axis (%)\n",
        "- Different colors matching y-axis label colors\n",
        "- Combined legend\n",
        "- Shaded region highlighting days where both metrics exceeded thresholds\n",
        "- Grid aligned with primary axis\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 4 (Moderate): Annotated Correlation Heatmap\n",
        "Create a correlation matrix visualization for 6 variables.\n",
        "\n",
        "**Requirements:**\n",
        "- Symmetric heatmap with diagonal of 1s\n",
        "- Diverging colormap centered at 0 ('RdBu_r')\n",
        "- Annotate each cell with correlation value\n",
        "- Text color: white for |r| > 0.5, black otherwise\n",
        "- Mask the upper triangle (show only lower triangle + diagonal)\n",
        "- Custom colorbar ticks at [-1, -0.5, 0, 0.5, 1]\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 5 (Difficult): Multi-View Scientific Dashboard\n",
        "Create a dashboard with GridSpec showing a 2D function $z = \\sin(x) \\cdot \\cos(y)$ from multiple perspectives:\n",
        "\n",
        "**Layout (using GridSpec):**\n",
        "- **Left (2 rows):** 3D surface plot with custom colormap\n",
        "- **Top-right:** Heatmap (imshow) of the same function\n",
        "- **Middle-right:** Contour plot with labeled contour lines\n",
        "- **Bottom (full width):** Two cross-section line plots:\n",
        "  - z vs x at y=0 (blue)\n",
        "  - z vs x at y=π/2 (red)\n",
        "\n",
        "**Requirements:**\n",
        "1. Consistent colormap across surface, heatmap, and contour\n",
        "2. Shared colorbar for the three 2D representations\n",
        "3. Proper axis labels with LaTeX formatting\n",
        "4. Super title and panel labels (A, B, C, D)\n",
        "5. Custom GridSpec with width_ratios and height_ratios\n",
        "6. Tight layout with no overlapping elements\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# Part 4: Expert Techniques\n",
        "\n",
        "## Q35. How do I create custom tick formatters?\n",
        "\n",
        "**Answer:** Use `FuncFormatter` from `matplotlib.ticker`.\n"
      ],
      "id": "ae1768f8"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from matplotlib.ticker import FuncFormatter, MultipleLocator\n",
        "\n",
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "\n",
        "# Percentage formatter\n",
        "def percent_fmt(x, pos):\n",
        "    return f'{x*100:.0f}%'\n",
        "\n",
        "x = np.linspace(0, 1, 50)\n",
        "y = x**2\n",
        "axs[0].plot(x, y, linewidth=2)\n",
        "axs[0].xaxis.set_major_formatter(FuncFormatter(percent_fmt))\n",
        "axs[0].yaxis.set_major_formatter(FuncFormatter(percent_fmt))\n",
        "axs[0].set_title(\"Percentage Formatter\")\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Currency formatter\n",
        "def currency_fmt(x, pos):\n",
        "    if x >= 1e6:\n",
        "        return f'${x/1e6:.1f}M'\n",
        "    elif x >= 1e3:\n",
        "        return f'${x/1e3:.0f}K'\n",
        "    return f'${x:.0f}'\n",
        "\n",
        "sales = np.array([125000, 340000, 890000, 1200000, 2500000])\n",
        "axs[1].bar(range(5), sales, color='#2a9d8f')\n",
        "axs[1].yaxis.set_major_formatter(FuncFormatter(currency_fmt))\n",
        "axs[1].set_xticklabels(['Q1', 'Q2', 'Q3', 'Q4', 'Q5'])\n",
        "axs[1].set_xticks(range(5))\n",
        "axs[1].set_title(\"Currency Formatter\")\n",
        "\n",
        "# Scientific formatter with custom precision\n",
        "def sci_fmt(x, pos):\n",
        "    if x == 0:\n",
        "        return '0'\n",
        "    exp = int(np.floor(np.log10(abs(x))))\n",
        "    coef = x / 10**exp\n",
        "    return f'{coef:.1f}×10$^{{{exp}}}$'\n",
        "\n",
        "x = np.linspace(0.001, 1, 100)\n",
        "y = np.exp(x*10)\n",
        "axs[2].semilogy(x, y, linewidth=2)\n",
        "axs[2].set_title(\"Log Scale with Custom Labels\")\n",
        "axs[2].grid(alpha=0.3, which='both')\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "b0e34e5c",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q36. How do I create inset axes (zoom views)?\n",
        "\n",
        "**Answer:** Use `inset_axes` from `mpl_toolkits.axes_grid1`.\n"
      ],
      "id": "076dc2f6"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from mpl_toolkits.axes_grid1.inset_locator import inset_axes, mark_inset\n",
        "\n",
        "fig, ax = plt.subplots(figsize=(10, 6))\n",
        "\n",
        "# Main plot\n",
        "x = np.linspace(0, 10, 1000)\n",
        "y = np.sin(x**2 / 5)\n",
        "ax.plot(x, y, linewidth=1.5, color='#264653')\n",
        "ax.set_title(\"Main Plot with Inset Zoom\")\n",
        "ax.set_xlabel(\"x\")\n",
        "ax.set_ylabel(\"y\")\n",
        "ax.grid(alpha=0.3)\n",
        "\n",
        "# Create inset axes\n",
        "axins = inset_axes(ax, width=\"40%\", height=\"40%\", loc='upper right',\n",
        "                   bbox_to_anchor=(0, 0, 0.95, 0.95), bbox_transform=ax.transAxes)\n",
        "\n",
        "# Plot same data in inset\n",
        "axins.plot(x, y, linewidth=1.5, color='#264653')\n",
        "axins.set_xlim(2, 4)  # Zoom region\n",
        "axins.set_ylim(-0.5, 1)\n",
        "axins.grid(alpha=0.3)\n",
        "axins.set_title(\"Zoom: x ∈ [2, 4]\", fontsize=9)\n",
        "\n",
        "# Mark the zoom region on main plot\n",
        "ax.axvspan(2, 4, alpha=0.2, color='yellow')\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "e52667c2",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q37. How do I create custom legends?\n",
        "\n",
        "**Answer:** Use custom handles, labels, and legend positioning options.\n"
      ],
      "id": "f290ebb1"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from matplotlib.lines import Line2D\n",
        "from matplotlib.patches import Patch\n",
        "\n",
        "fig, ax = plt.subplots(figsize=(10, 6))\n",
        "\n",
        "# Plot multiple datasets\n",
        "x = np.linspace(0, 10, 50)\n",
        "ax.plot(x, np.sin(x), 'b-', linewidth=2, label='sin(x)')\n",
        "ax.plot(x, np.cos(x), 'r--', linewidth=2, label='cos(x)')\n",
        "ax.scatter(x[::5], np.sin(x[::5]), c='green', s=50)\n",
        "ax.fill_between([4, 6], -1, 1, alpha=0.2, color='purple')\n",
        "\n",
        "# Custom legend handles\n",
        "legend_elements = [\n",
        "    Line2D([0], [0], color='b', linewidth=2, label='sin(x)'),\n",
        "    Line2D([0], [0], color='r', linewidth=2, linestyle='--', label='cos(x)'),\n",
        "    Line2D([0], [0], marker='o', color='w', markerfacecolor='green', \n",
        "           markersize=10, label='Sample points'),\n",
        "    Patch(facecolor='purple', alpha=0.2, label='Highlighted region')\n",
        "]\n",
        "\n",
        "ax.legend(handles=legend_elements, loc='upper center', ncol=2, \n",
        "          framealpha=0.9, fontsize=10, title=\"Legend\", title_fontsize=11)\n",
        "\n",
        "ax.set_title(\"Custom Legend with Different Handle Types\")\n",
        "ax.grid(alpha=0.3)\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "46128c3b",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q38. How do I create step plots and stem plots?\n",
        "\n",
        "**Answer:** Use `step()` for stair-like data and `stem()` for discrete sequences.\n"
      ],
      "id": "17b3408e"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(2, 2, figsize=(12, 9))\n",
        "\n",
        "x = np.arange(10)\n",
        "y = np.random.rand(10)\n",
        "\n",
        "# Step plot - pre (left-continuous)\n",
        "axs[0, 0].step(x, y, where='pre', linewidth=2, color='#264653', label=\"where='pre'\")\n",
        "axs[0, 0].plot(x, y, 'o', color='#e76f51', markersize=8)\n",
        "axs[0, 0].set_title(\"Step Plot: pre (left-continuous)\")\n",
        "axs[0, 0].legend()\n",
        "axs[0, 0].grid(alpha=0.3)\n",
        "\n",
        "# Step plot - post (right-continuous)\n",
        "axs[0, 1].step(x, y, where='post', linewidth=2, color='#2a9d8f', label=\"where='post'\")\n",
        "axs[0, 1].plot(x, y, 'o', color='#e76f51', markersize=8)\n",
        "axs[0, 1].set_title(\"Step Plot: post (right-continuous)\")\n",
        "axs[0, 1].legend()\n",
        "axs[0, 1].grid(alpha=0.3)\n",
        "\n",
        "# Step plot - mid\n",
        "axs[1, 0].step(x, y, where='mid', linewidth=2, color='#f4a261', label=\"where='mid'\")\n",
        "axs[1, 0].plot(x, y, 'o', color='#264653', markersize=8)\n",
        "axs[1, 0].set_title(\"Step Plot: mid (centered)\")\n",
        "axs[1, 0].legend()\n",
        "axs[1, 0].grid(alpha=0.3)\n",
        "\n",
        "# Stem plot\n",
        "markerline, stemlines, baseline = axs[1, 1].stem(x, y)\n",
        "plt.setp(markerline, color='#e76f51', markersize=10)\n",
        "plt.setp(stemlines, color='#264653', linewidth=1.5)\n",
        "plt.setp(baseline, color='gray', linewidth=1)\n",
        "axs[1, 1].set_title(\"Stem Plot: Discrete Sequence\")\n",
        "axs[1, 1].grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "9f9b0b99",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q39. How do I handle dates on axes?\n",
        "\n",
        "**Answer:** Use `matplotlib.dates` for date formatting and locators.\n"
      ],
      "id": "9e34de45"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "import matplotlib.dates as mdates\n",
        "from datetime import datetime, timedelta\n",
        "\n",
        "# Generate date data\n",
        "start_date = datetime(2025, 1, 1)\n",
        "dates = [start_date + timedelta(days=i) for i in range(365)]\n",
        "values = 100 + np.cumsum(np.random.randn(365) * 2)\n",
        "\n",
        "fig, axs = plt.subplots(2, 1, figsize=(12, 8))\n",
        "\n",
        "# Monthly locator\n",
        "axs[0].plot(dates, values, linewidth=1.5, color='#264653')\n",
        "axs[0].xaxis.set_major_locator(mdates.MonthLocator())\n",
        "axs[0].xaxis.set_major_formatter(mdates.DateFormatter('%b %Y'))\n",
        "axs[0].set_title(\"Date Formatting: Monthly Ticks\")\n",
        "axs[0].grid(alpha=0.3)\n",
        "plt.setp(axs[0].xaxis.get_majorticklabels(), rotation=45, ha='right')\n",
        "\n",
        "# Quarterly with custom format\n",
        "axs[1].plot(dates, values, linewidth=1.5, color='#2a9d8f')\n",
        "axs[1].xaxis.set_major_locator(mdates.MonthLocator(bymonth=[1, 4, 7, 10]))\n",
        "axs[1].xaxis.set_major_formatter(mdates.DateFormatter('%b\\n%Y'))\n",
        "axs[1].xaxis.set_minor_locator(mdates.MonthLocator())\n",
        "axs[1].set_title(\"Date Formatting: Quarterly Major, Monthly Minor\")\n",
        "axs[1].grid(alpha=0.3, which='both')\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "6d290d2b",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q40. How do I create fill between curves?\n",
        "\n",
        "**Answer:** Use `fill_between()` with conditions for selective filling.\n"
      ],
      "id": "1817d7fc"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "x = np.linspace(0, 10, 200)\n",
        "y1 = np.sin(x)\n",
        "y2 = np.sin(x) * 0.5\n",
        "\n",
        "# Basic fill between\n",
        "axs[0].plot(x, y1, 'b-', linewidth=2, label='y1')\n",
        "axs[0].plot(x, y2, 'r-', linewidth=2, label='y2')\n",
        "axs[0].fill_between(x, y1, y2, alpha=0.3, color='purple')\n",
        "axs[0].set_title(\"Basic Fill Between\")\n",
        "axs[0].legend()\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Conditional fill (where y1 > y2)\n",
        "axs[1].plot(x, y1, 'b-', linewidth=2, label='y1')\n",
        "axs[1].plot(x, y2, 'r-', linewidth=2, label='y2')\n",
        "axs[1].fill_between(x, y1, y2, where=(y1 > y2), alpha=0.5, color='green', label='y1 > y2')\n",
        "axs[1].fill_between(x, y1, y2, where=(y1 <= y2), alpha=0.5, color='red', label='y1 ≤ y2')\n",
        "axs[1].set_title(\"Conditional Fill\")\n",
        "axs[1].legend()\n",
        "axs[1].grid(alpha=0.3)\n",
        "\n",
        "# Confidence bands\n",
        "mean = np.sin(x) * np.exp(-x/10)\n",
        "std = 0.2\n",
        "axs[2].plot(x, mean, 'k-', linewidth=2, label='Mean')\n",
        "axs[2].fill_between(x, mean - std, mean + std, alpha=0.3, color='blue', label='±1σ')\n",
        "axs[2].fill_between(x, mean - 2*std, mean + 2*std, alpha=0.15, color='blue', label='±2σ')\n",
        "axs[2].set_title(\"Confidence Bands\")\n",
        "axs[2].legend()\n",
        "axs[2].grid(alpha=0.3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "f9bcc443",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q41. How do I create annotated heatmaps efficiently?\n",
        "\n",
        "**Answer:** Use a reusable function with proper text color contrast.\n"
      ],
      "id": "313fa8d3"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "def annotated_heatmap(data, row_labels, col_labels, ax=None, cmap='viridis', \n",
        "                      fmt='.2f', cbar_label='', title=''):\n",
        "    \"\"\"Create an annotated heatmap with automatic text color selection.\"\"\"\n",
        "    if ax is None:\n",
        "        ax = plt.gca()\n",
        "    \n",
        "    im = ax.imshow(data, cmap=cmap)\n",
        "    \n",
        "    # Color bar\n",
        "    cbar = ax.figure.colorbar(im, ax=ax, fraction=0.046, pad=0.04)\n",
        "    cbar.ax.set_ylabel(cbar_label, rotation=-90, va=\"bottom\")\n",
        "    \n",
        "    # Ticks\n",
        "    ax.set_xticks(np.arange(len(col_labels)))\n",
        "    ax.set_yticks(np.arange(len(row_labels)))\n",
        "    ax.set_xticklabels(col_labels)\n",
        "    ax.set_yticklabels(row_labels)\n",
        "    \n",
        "    # Rotate tick labels\n",
        "    plt.setp(ax.get_xticklabels(), rotation=45, ha=\"right\", rotation_mode=\"anchor\")\n",
        "    \n",
        "    # Annotate cells with automatic text color\n",
        "    text_threshold = (data.max() + data.min()) / 2\n",
        "    for i in range(len(row_labels)):\n",
        "        for j in range(len(col_labels)):\n",
        "            color = \"white\" if data[i, j] > text_threshold else \"black\"\n",
        "            ax.text(j, i, format(data[i, j], fmt), ha=\"center\", va=\"center\", \n",
        "                   color=color, fontsize=9)\n",
        "    \n",
        "    ax.set_title(title)\n",
        "    return im\n",
        "\n",
        "# Demo\n",
        "np.random.seed(42)\n",
        "data = np.random.rand(6, 8) * 100\n",
        "rows = [f'Row {i+1}' for i in range(6)]\n",
        "cols = [f'Col {i+1}' for i in range(8)]\n",
        "\n",
        "fig, ax = plt.subplots(figsize=(10, 6))\n",
        "annotated_heatmap(data, rows, cols, ax=ax, cmap='YlOrRd', fmt='.1f', \n",
        "                  cbar_label='Value', title='Reusable Annotated Heatmap')\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "4b7eebe5",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q42. How do I save plots in publication-quality formats?\n",
        "\n",
        "**Answer:** Use high DPI for raster, and vector formats (PDF/SVG) for publications.\n"
      ],
      "id": "a9a0f342"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, ax = plt.subplots(figsize=(8, 5))\n",
        "x = np.linspace(0, 2*np.pi, 100)\n",
        "ax.plot(x, np.sin(x), linewidth=2, label=r'$\\sin(x)$')\n",
        "ax.plot(x, np.cos(x), linewidth=2, linestyle='--', label=r'$\\cos(x)$')\n",
        "ax.set_xlabel(r'$x$ (radians)', fontsize=12)\n",
        "ax.set_ylabel(r'$f(x)$', fontsize=12)\n",
        "ax.set_title('Publication-Ready Figure', fontsize=14)\n",
        "ax.legend(fontsize=11)\n",
        "ax.grid(alpha=0.3)\n",
        "\n",
        "# Different save options (uncomment to save)\n",
        "# fig.savefig('figure.png', dpi=300, bbox_inches='tight', facecolor='white')  # Web/slides\n",
        "# fig.savefig('figure.pdf', bbox_inches='tight')  # LaTeX publications\n",
        "# fig.savefig('figure.svg', bbox_inches='tight')  # Scalable, editable\n",
        "# fig.savefig('figure.eps', bbox_inches='tight')  # Some journals require EPS\n",
        "\n",
        "print(\"Save options:\")\n",
        "print(\"- PNG: dpi=300+ for print, dpi=150 for web\")\n",
        "print(\"- PDF: Vector, perfect for LaTeX\")  \n",
        "print(\"- SVG: Editable in Inkscape/Illustrator\")\n",
        "print(\"- EPS: Legacy format for some journals\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "81e81d3c",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q43. How do I create reusable plotting functions?\n",
        "\n",
        "**Answer:** Define functions that accept data and styling parameters, returning figure/axes.\n"
      ],
      "id": "bd06a99c"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "def create_comparison_plot(data_dict, title='', xlabel='', ylabel='', \n",
        "                           figsize=(10, 6), style_config=None):\n",
        "    \"\"\"\n",
        "    Create a comparison line plot with multiple datasets.\n",
        "    \n",
        "    Parameters:\n",
        "    -----------\n",
        "    data_dict : dict\n",
        "        Dictionary with labels as keys and (x, y) tuples as values\n",
        "    style_config : dict, optional\n",
        "        Custom styling configuration\n",
        "    \n",
        "    Returns:\n",
        "    --------\n",
        "    fig, ax : matplotlib figure and axes objects\n",
        "    \"\"\"\n",
        "    default_style = {\n",
        "        'linewidth': 2,\n",
        "        'grid_alpha': 0.3,\n",
        "        'title_fontsize': 14,\n",
        "        'label_fontsize': 11,\n",
        "        'legend_fontsize': 10\n",
        "    }\n",
        "    style = {**default_style, **(style_config or {})}\n",
        "    \n",
        "    fig, ax = plt.subplots(figsize=figsize)\n",
        "    \n",
        "    for i, (label, (x, y)) in enumerate(data_dict.items()):\n",
        "        ax.plot(x, y, linewidth=style['linewidth'], label=label, color=f'C{i}')\n",
        "    \n",
        "    ax.set_title(title, fontsize=style['title_fontsize'])\n",
        "    ax.set_xlabel(xlabel, fontsize=style['label_fontsize'])\n",
        "    ax.set_ylabel(ylabel, fontsize=style['label_fontsize'])\n",
        "    ax.legend(fontsize=style['legend_fontsize'])\n",
        "    ax.grid(alpha=style['grid_alpha'])\n",
        "    \n",
        "    return fig, ax\n",
        "\n",
        "# Usage example\n",
        "x = np.linspace(0, 10, 100)\n",
        "data = {\n",
        "    'Linear': (x, x),\n",
        "    'Quadratic': (x, x**2 / 10),\n",
        "    'Logarithmic': (x, np.log(x + 1) * 3),\n",
        "    'Square Root': (x, np.sqrt(x) * 2)\n",
        "}\n",
        "\n",
        "fig, ax = create_comparison_plot(\n",
        "    data, \n",
        "    title='Growth Functions Comparison',\n",
        "    xlabel='Input (x)', \n",
        "    ylabel='Output f(x)'\n",
        ")\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "eb1f0ab0",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q44. How do I use rcParams for global styling?\n",
        "\n",
        "**Answer:** Modify `plt.rcParams` or use `rc_context` for temporary changes.\n"
      ],
      "id": "f380c2b4"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Show current defaults\n",
        "print(\"Default font size:\", plt.rcParams['font.size'])\n",
        "print(\"Default figure size:\", plt.rcParams['figure.figsize'])\n",
        "\n",
        "# Create custom rcParams dictionary\n",
        "custom_params = {\n",
        "    'figure.figsize': (10, 6),\n",
        "    'font.size': 12,\n",
        "    'font.family': 'sans-serif',\n",
        "    'axes.titlesize': 14,\n",
        "    'axes.labelsize': 12,\n",
        "    'xtick.labelsize': 10,\n",
        "    'ytick.labelsize': 10,\n",
        "    'legend.fontsize': 10,\n",
        "    'axes.grid': True,\n",
        "    'grid.alpha': 0.3,\n",
        "    'lines.linewidth': 2,\n",
        "    'axes.spines.top': False,\n",
        "    'axes.spines.right': False,\n",
        "}\n",
        "\n",
        "# Use context manager for temporary style\n",
        "with plt.rc_context(custom_params):\n",
        "    fig, ax = plt.subplots()\n",
        "    x = np.linspace(0, 10, 100)\n",
        "    ax.plot(x, np.sin(x), label='sin(x)')\n",
        "    ax.plot(x, np.cos(x), label='cos(x)')\n",
        "    ax.set_title('Plot with Custom rcParams')\n",
        "    ax.set_xlabel('X axis')\n",
        "    ax.set_ylabel('Y axis')\n",
        "    ax.legend()\n",
        "\n",
        "plt.show()"
      ],
      "id": "49f44ea8",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q45. How do I create quiver plots for vector fields?\n",
        "\n",
        "**Answer:** Use `quiver()` to visualize vector fields with arrows.\n"
      ],
      "id": "7c0720fd"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "# Simple vector field\n",
        "x = np.linspace(-2, 2, 10)\n",
        "y = np.linspace(-2, 2, 10)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "U = -Y  # Vector x-component\n",
        "V = X   # Vector y-component\n",
        "\n",
        "axs[0].quiver(X, Y, U, V, color='#264653')\n",
        "axs[0].set_title(\"Rotation Vector Field\")\n",
        "axs[0].set_xlabel(\"x\")\n",
        "axs[0].set_ylabel(\"y\")\n",
        "axs[0].set_aspect('equal')\n",
        "axs[0].grid(alpha=0.3)\n",
        "\n",
        "# Colored by magnitude\n",
        "x = np.linspace(-2, 2, 15)\n",
        "y = np.linspace(-2, 2, 15)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "U = X * np.exp(-X**2 - Y**2)\n",
        "V = Y * np.exp(-X**2 - Y**2)\n",
        "magnitude = np.sqrt(U**2 + V**2)\n",
        "\n",
        "quiv = axs[1].quiver(X, Y, U, V, magnitude, cmap='viridis', scale=3)\n",
        "plt.colorbar(quiv, ax=axs[1], label='Magnitude')\n",
        "axs[1].set_title(\"Vector Field Colored by Magnitude\")\n",
        "axs[1].set_xlabel(\"x\")\n",
        "axs[1].set_ylabel(\"y\")\n",
        "axs[1].set_aspect('equal')\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "fd76cb52",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q46. How do I create streamplots for flow visualization?\n",
        "\n",
        "**Answer:** Use `streamplot()` for continuous flow lines.\n"
      ],
      "id": "f90cb9ee"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "fig, axs = plt.subplots(1, 2, figsize=(13, 5))\n",
        "\n",
        "x = np.linspace(-3, 3, 100)\n",
        "y = np.linspace(-3, 3, 100)\n",
        "X, Y = np.meshgrid(x, y)\n",
        "\n",
        "# Saddle point flow\n",
        "U = X\n",
        "V = -Y\n",
        "axs[0].streamplot(X, Y, U, V, color='#264653', density=1.5, linewidth=1)\n",
        "axs[0].set_title(\"Streamplot: Saddle Point\")\n",
        "axs[0].set_xlabel(\"x\")\n",
        "axs[0].set_ylabel(\"y\")\n",
        "axs[0].set_aspect('equal')\n",
        "\n",
        "# Vortex with color by speed\n",
        "U = -Y / (X**2 + Y**2 + 0.1)\n",
        "V = X / (X**2 + Y**2 + 0.1)\n",
        "speed = np.sqrt(U**2 + V**2)\n",
        "speed[speed > 5] = 5  # Clip for better visualization\n",
        "\n",
        "strm = axs[1].streamplot(X, Y, U, V, color=speed, cmap='plasma', density=1.5, \n",
        "                          linewidth=1, arrowsize=1)\n",
        "plt.colorbar(strm.lines, ax=axs[1], label='Speed')\n",
        "axs[1].set_title(\"Streamplot: Vortex (colored by speed)\")\n",
        "axs[1].set_xlabel(\"x\")\n",
        "axs[1].set_ylabel(\"y\")\n",
        "axs[1].set_aspect('equal')\n",
        "axs[1].set_xlim(-3, 3)\n",
        "axs[1].set_ylim(-3, 3)\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "a2cd58ac",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q47. How do I add images to plots?\n",
        "\n",
        "**Answer:** Use `imshow()` for displaying images or `imread()` to load external images.\n"
      ],
      "id": "df918aee"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Create synthetic images\n",
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "\n",
        "# Grayscale image\n",
        "np.random.seed(42)\n",
        "gray_img = np.random.rand(100, 100)\n",
        "axs[0].imshow(gray_img, cmap='gray')\n",
        "axs[0].set_title(\"Grayscale Image\")\n",
        "axs[0].axis('off')\n",
        "\n",
        "# RGB image (synthetic gradient)\n",
        "r = np.linspace(0, 1, 100).reshape(1, -1) * np.ones((100, 1))\n",
        "g = np.linspace(0, 1, 100).reshape(-1, 1) * np.ones((1, 100))\n",
        "b = 1 - (r + g) / 2\n",
        "rgb_img = np.stack([r, g, b], axis=2)\n",
        "axs[1].imshow(rgb_img)\n",
        "axs[1].set_title(\"Synthetic RGB Gradient\")\n",
        "axs[1].axis('off')\n",
        "\n",
        "# Image with custom extent and interpolation\n",
        "pattern = np.sin(np.linspace(0, 4*np.pi, 100).reshape(1, -1)) * \\\n",
        "          np.cos(np.linspace(0, 4*np.pi, 100).reshape(-1, 1))\n",
        "axs[2].imshow(pattern, cmap='RdBu_r', extent=[-5, 5, -5, 5], interpolation='bilinear')\n",
        "axs[2].set_title(\"Pattern with Custom Extent\")\n",
        "axs[2].set_xlabel(\"X\")\n",
        "axs[2].set_ylabel(\"Y\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "d46e9ede",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q48. How do I create hexbin plots for large scatter data?\n",
        "\n",
        "**Answer:** Use `hexbin()` for efficiently visualizing large point datasets.\n"
      ],
      "id": "85f2a1a5"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "np.random.seed(42)\n",
        "n = 10000\n",
        "x = np.random.randn(n)\n",
        "y = x + np.random.randn(n) * 0.5\n",
        "\n",
        "fig, axs = plt.subplots(1, 3, figsize=(14, 4))\n",
        "\n",
        "# Regular scatter (slow and overlapping)\n",
        "axs[0].scatter(x, y, alpha=0.1, s=5)\n",
        "axs[0].set_title(f\"Scatter: n={n} points\")\n",
        "axs[0].set_xlabel(\"X\")\n",
        "axs[0].set_ylabel(\"Y\")\n",
        "\n",
        "# Hexbin plot\n",
        "hb = axs[1].hexbin(x, y, gridsize=30, cmap='YlOrRd', mincnt=1)\n",
        "plt.colorbar(hb, ax=axs[1], label='Count')\n",
        "axs[1].set_title(\"Hexbin: Efficient Density\")\n",
        "axs[1].set_xlabel(\"X\")\n",
        "axs[1].set_ylabel(\"Y\")\n",
        "\n",
        "# Hexbin with log scale\n",
        "hb2 = axs[2].hexbin(x, y, gridsize=30, cmap='viridis', mincnt=1, bins='log')\n",
        "plt.colorbar(hb2, ax=axs[2], label='log10(Count)')\n",
        "axs[2].set_title(\"Hexbin: Log Scale\")\n",
        "axs[2].set_xlabel(\"X\")\n",
        "axs[2].set_ylabel(\"Y\")\n",
        "\n",
        "plt.tight_layout()\n",
        "plt.show()"
      ],
      "id": "e6742159",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q49. How do I create animations?\n",
        "\n",
        "**Answer:** Use `FuncAnimation` from `matplotlib.animation`.\n"
      ],
      "id": "b8a7a8e5"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "from matplotlib.animation import FuncAnimation\n",
        "from IPython.display import HTML\n",
        "\n",
        "# Create figure\n",
        "fig, ax = plt.subplots(figsize=(8, 5))\n",
        "ax.set_xlim(0, 2*np.pi)\n",
        "ax.set_ylim(-1.5, 1.5)\n",
        "ax.set_title(\"Animated Sine Wave\")\n",
        "ax.set_xlabel(\"x\")\n",
        "ax.set_ylabel(\"sin(x + φ)\")\n",
        "ax.grid(alpha=0.3)\n",
        "\n",
        "line, = ax.plot([], [], 'b-', linewidth=2)\n",
        "point, = ax.plot([], [], 'ro', markersize=10)\n",
        "\n",
        "x = np.linspace(0, 2*np.pi, 200)\n",
        "\n",
        "def init():\n",
        "    line.set_data([], [])\n",
        "    point.set_data([], [])\n",
        "    return line, point\n",
        "\n",
        "def animate(frame):\n",
        "    phase = frame * 0.1\n",
        "    y = np.sin(x + phase)\n",
        "    line.set_data(x, y)\n",
        "    point.set_data([phase % (2*np.pi)], [np.sin(2*phase)])\n",
        "    return line, point\n",
        "\n",
        "# Create animation (showing just the setup, actual animation requires display)\n",
        "# anim = FuncAnimation(fig, animate, init_func=init, frames=100, interval=50, blit=True)\n",
        "\n",
        "# To save: anim.save('animation.gif', writer='pillow', fps=20)\n",
        "# To display in notebook: HTML(anim.to_jshtml())\n",
        "\n",
        "print(\"Animation setup complete. Use FuncAnimation for live animations.\")\n",
        "print(\"Save with: anim.save('animation.gif', writer='pillow')\")\n",
        "plt.show()"
      ],
      "id": "359282cb",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "## Q50. How do I create publication-ready multi-panel figures?\n",
        "\n",
        "**Answer:** Combine all techniques: GridSpec, consistent styling, proper spacing, and labels.\n"
      ],
      "id": "e75beba8"
    },
    {
      "cell_type": "code",
      "metadata": {},
      "source": [
        "# Set publication style\n",
        "plt.rcParams.update({\n",
        "    'font.size': 10,\n",
        "    'axes.labelsize': 11,\n",
        "    'axes.titlesize': 11,\n",
        "    'legend.fontsize': 9,\n",
        "    'axes.spines.top': False,\n",
        "    'axes.spines.right': False,\n",
        "})\n",
        "\n",
        "fig = plt.figure(figsize=(12, 10))\n",
        "gs = gridspec.GridSpec(3, 3, figure=fig, hspace=0.35, wspace=0.35)\n",
        "\n",
        "np.random.seed(42)\n",
        "x = np.linspace(0, 10, 100)\n",
        "\n",
        "# Panel A: Main time series\n",
        "ax_a = fig.add_subplot(gs[0, :2])\n",
        "ax_a.plot(x, np.sin(x) + np.random.randn(100)*0.1, linewidth=1.5, color='#264653')\n",
        "ax_a.fill_between(x, np.sin(x)-0.2, np.sin(x)+0.2, alpha=0.2, color='#264653')\n",
        "ax_a.set_title(\"A) Time Series with Confidence Interval\")\n",
        "ax_a.set_xlabel(\"Time (s)\")\n",
        "ax_a.set_ylabel(\"Amplitude\")\n",
        "ax_a.grid(alpha=0.3)\n",
        "\n",
        "# Panel B: Distribution\n",
        "ax_b = fig.add_subplot(gs[0, 2])\n",
        "data = np.random.randn(500)\n",
        "ax_b.hist(data, bins=25, color='#2a9d8f', edgecolor='white', alpha=0.8, density=True)\n",
        "xd = np.linspace(-4, 4, 100)\n",
        "ax_b.plot(xd, 1/np.sqrt(2*np.pi)*np.exp(-xd**2/2), 'r-', linewidth=2, label='Theory')\n",
        "ax_b.set_title(\"B) Distribution\")\n",
        "ax_b.set_xlabel(\"Value\")\n",
        "ax_b.set_ylabel(\"Density\")\n",
        "ax_b.legend()\n",
        "\n",
        "# Panel C: Scatter correlation\n",
        "ax_c = fig.add_subplot(gs[1, 0])\n",
        "x_scatter = np.random.randn(100)\n",
        "y_scatter = 0.7*x_scatter + np.random.randn(100)*0.5\n",
        "ax_c.scatter(x_scatter, y_scatter, alpha=0.6, c='#e76f51', edgecolors='white', linewidth=0.5)\n",
        "ax_c.set_title(\"C) Correlation (r=0.81)\")\n",
        "ax_c.set_xlabel(\"Variable X\")\n",
        "ax_c.set_ylabel(\"Variable Y\")\n",
        "ax_c.grid(alpha=0.3)\n",
        "\n",
        "# Panel D: Bar comparison\n",
        "ax_d = fig.add_subplot(gs[1, 1])\n",
        "categories = ['Ctrl', 'Treat1', 'Treat2', 'Treat3']\n",
        "values = [10, 15, 18, 12]\n",
        "errors = [1, 2, 1.5, 1.8]\n",
        "colors = ['#264653', '#2a9d8f', '#e9c46a', '#e76f51']\n",
        "ax_d.bar(categories, values, yerr=errors, capsize=4, color=colors, edgecolor='white')\n",
        "ax_d.set_title(\"D) Treatment Comparison\")\n",
        "ax_d.set_ylabel(\"Response\")\n",
        "ax_d.grid(axis='y', alpha=0.3)\n",
        "\n",
        "# Panel E: Box plot\n",
        "ax_e = fig.add_subplot(gs[1, 2])\n",
        "data_box = [np.random.randn(50) + i for i in range(4)]\n",
        "bp = ax_e.boxplot(data_box, labels=['G1', 'G2', 'G3', 'G4'], patch_artist=True)\n",
        "for patch, color in zip(bp['boxes'], colors):\n",
        "    patch.set_facecolor(color)\n",
        "    patch.set_alpha(0.7)\n",
        "ax_e.set_title(\"E) Group Distribution\")\n",
        "ax_e.set_ylabel(\"Value\")\n",
        "ax_e.grid(axis='y', alpha=0.3)\n",
        "\n",
        "# Panel F: Heatmap (spanning bottom row)\n",
        "ax_f = fig.add_subplot(gs[2, :])\n",
        "heatmap_data = np.random.rand(5, 10) * 100\n",
        "im = ax_f.imshow(heatmap_data, cmap='YlOrRd', aspect='auto')\n",
        "ax_f.set_xticks(range(10))\n",
        "ax_f.set_yticks(range(5))\n",
        "ax_f.set_xticklabels([f'S{i+1}' for i in range(10)])\n",
        "ax_f.set_yticklabels([f'Gene {i+1}' for i in range(5)])\n",
        "ax_f.set_title(\"F) Expression Heatmap\")\n",
        "plt.colorbar(im, ax=ax_f, shrink=0.6, label='Expression Level')\n",
        "\n",
        "plt.suptitle(\"Multi-Panel Research Figure\", fontsize=14, fontweight='bold', y=1.02)\n",
        "plt.tight_layout()\n",
        "plt.show()\n",
        "\n",
        "# Reset rcParams\n",
        "plt.rcParams.update(plt.rcParamsDefault)"
      ],
      "id": "a9189bea",
      "execution_count": null,
      "outputs": []
    },
    {
      "cell_type": "markdown",
      "metadata": {},
      "source": [
        "::: {.callout-caution collapse=\"true\"}\n",
        "## Practice (Expert) - 5 Challenges\n",
        "\n",
        "### Challenge 1 (Easy): Custom Tick Formatter\n",
        "Create a bar chart of values in thousands (e.g., [15000, 28000, 42000, 38000, 51000]).\n",
        "\n",
        "**Requirements:**\n",
        "- Y-axis shows formatted values like \"15K\", \"28K\", etc.\n",
        "- Use `FuncFormatter` from `matplotlib.ticker`\n",
        "- Title and proper labels\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 2 (Easy): Basic Animation Setup\n",
        "Create a static frame showing the setup for an animated sine wave.\n",
        "\n",
        "**Requirements:**\n",
        "- Draw a sine wave that would animate through phase shifts\n",
        "- Add a moving marker point on the curve\n",
        "- Set axis limits appropriately\n",
        "- Add title showing frame number placeholder\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 3 (Moderate): Inset Zoom with Connection\n",
        "Plot a noisy signal over 100 points and add an inset zoom view.\n",
        "\n",
        "**Requirements:**\n",
        "- Main plot: full signal with noise\n",
        "- Inset axes (30% width, 30% height) in upper-right\n",
        "- Zoom into the region x ∈ [40, 60]\n",
        "- Visual connector lines/box highlighting the zoomed region\n",
        "- Different background color for inset\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 4 (Moderate): Custom rcParams Theme\n",
        "Create a reusable plotting theme and apply it to multiple plots.\n",
        "\n",
        "**Requirements:**\n",
        "- Define a custom style dictionary with:\n",
        "  - Sans-serif font family\n",
        "  - Larger font sizes (12pt base)\n",
        "  - No top/right spines\n",
        "  - Custom color cycle (at least 5 colors)\n",
        "  - Grid enabled by default\n",
        "- Create a 1×3 subplot showing line, bar, and scatter plots\n",
        "- All plots should inherit the custom theme\n",
        "\n",
        "---\n",
        "\n",
        "### Challenge 5 (Difficult): Complete Publication Figure with Everything\n",
        "Create a journal-ready figure combining multiple advanced techniques:\n",
        "\n",
        "**Layout:** 2×3 grid using GridSpec with varying sizes\n",
        "\n",
        "**Panel A (top-left, large):** Time series with:\n",
        "- Main line and confidence band (fill_between)\n",
        "- Inset zoom of peak region\n",
        "- Custom date formatting on x-axis\n",
        "\n",
        "**Panel B (top-right):** Polar radar chart showing 6 metrics\n",
        "\n",
        "**Panel C (middle-left):** Violin plot with overlaid strip plot (jittered points)\n",
        "\n",
        "**Panel D (middle-right):** Annotated heatmap with custom colormap\n",
        "\n",
        "**Panel E (bottom, full width):** Streamplot of a vector field with:\n",
        "- Colored by magnitude\n",
        "- Quiver overlay at sparse points\n",
        "\n",
        "**Requirements:**\n",
        "1. Consistent color palette throughout\n",
        "2. Panel labels (A, B, C, D, E) in corners\n",
        "3. LaTeX-formatted axis labels where appropriate\n",
        "4. All fonts suitable for publication (11pt minimum)\n",
        "5. No overlapping elements with tight_layout\n",
        "6. Export-ready at 300 DPI\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# Quick Reference Guide\n",
        "\n",
        "## Common Plot Types\n",
        "\n",
        "| Function | Use Case |\n",
        "|----------|----------|\n",
        "| `plot()` | Line charts, time series |\n",
        "| `scatter()` | Relationships, clusters |\n",
        "| `bar()` / `barh()` | Categorical comparisons |\n",
        "| `hist()` | Distributions |\n",
        "| `pie()` | Part of whole (sparingly) |\n",
        "| `boxplot()` | Statistical summaries |\n",
        "| `violinplot()` | Distribution shape |\n",
        "| `errorbar()` | Data with uncertainty |\n",
        "| `fill_between()` | Confidence bands |\n",
        "| `imshow()` / `pcolormesh()` | Heatmaps, images |\n",
        "| `contour()` / `contourf()` | 2D scalar fields |\n",
        "| `quiver()` | Vector fields |\n",
        "| `streamplot()` | Flow visualization |\n",
        "| `hexbin()` | Large point datasets |\n",
        "\n",
        "## Styling Cheat Sheet\n",
        "\n",
        "```python\n",
        "# Figure\n",
        "fig, ax = plt.subplots(figsize=(width, height), dpi=100)\n",
        "\n",
        "# Lines\n",
        "ax.plot(x, y, color='red', linestyle='--', linewidth=2, marker='o', markersize=8, alpha=0.8, label='Data')\n",
        "\n",
        "# Text\n",
        "ax.set_title('Title', fontsize=14, fontweight='bold')\n",
        "ax.set_xlabel('X Label', fontsize=12)\n",
        "ax.text(x, y, 'annotation', fontsize=10, ha='center', va='center')\n",
        "\n",
        "# Legend\n",
        "ax.legend(loc='upper right', framealpha=0.9, ncol=2)\n",
        "\n",
        "# Grid and spines\n",
        "ax.grid(alpha=0.3, linestyle='--')\n",
        "ax.spines['top'].set_visible(False)\n",
        "\n",
        "# Save\n",
        "fig.savefig('plot.png', dpi=300, bbox_inches='tight', facecolor='white')\n",
        "```\n",
        "\n",
        "---\n",
        "\n",
        "# Summary\n",
        "\n",
        "This comprehensive guide covered:\n",
        "\n",
        "- **50+ questions** from fundamentals to expert techniques\n",
        "- **Basic plots**: line, bar, scatter, histogram, pie\n",
        "- **Statistical visualization**: box plots, violin plots, error bars\n",
        "- **Advanced techniques**: 3D plots, heatmaps, contours, polar plots\n",
        "- **Professional skills**: custom formatters, animations, publication figures\n",
        "- **Best practices**: reusable code, style management, export options\n",
        "\n",
        "::: {.callout-tip}\n",
        "**Key takeaway:** Master the object-oriented API for maximum flexibility, and always choose the chart type that best tells your data story.\n",
        ":::\n",
        "\n",
        "---\n",
        "\n",
        "# References\n",
        "\n",
        "1. [Matplotlib Official Documentation](https://matplotlib.org/)\n",
        "2. [Matplotlib Gallery](https://matplotlib.org/stable/gallery/index.html)\n",
        "3. [Matplotlib Tutorials](https://matplotlib.org/stable/tutorials/index.html)\n",
        "4. [Scientific Visualization: Python + Matplotlib (Book)](https://github.com/rougier/scientific-visualization-book)\n",
        "5. [Matplotlib Cheatsheets](https://matplotlib.org/cheatsheets/)"
      ],
      "id": "b107361d"
    }
  ],
  "metadata": {
    "kernelspec": {
      "display_name": "Python 3",
      "language": "python",
      "name": "python3"
    }
  },
  "nbformat": 4,
  "nbformat_minor": 5
}